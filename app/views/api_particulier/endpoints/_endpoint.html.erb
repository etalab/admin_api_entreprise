<div class="fr-col-xs-12 fr-col-sm-6 fr-col-lg-3 fr-p-2v" id="<%= dom_id(endpoint) %>" data-search-catalogue-target="card" data-searchable="<%= [endpoint.title, endpoint.description, endpoint.providers.map(&:name).join(' ')].join(' ') %>" data-keywords="<%= (endpoint.keywords || []).to_json %>" data-attribute-keys="<%= endpoint_attribute_keys(endpoint).to_json %>">
  <article class="endpoint-card fr-grid-card">
    <header>
      <div>
        <%= endpoint_status_badge(endpoint) %>
      </div>
      <div class="fr-grid-row fr-grid-row--gutters fr-grid-row--start">
        <div class="fr-col-8">
          <h3 class="fr-h5" data-search-catalogue-target="title">
            <%= endpoint.title %>
          </h3>
        </div>
        <div class="fr-col-4">
          <% endpoint.providers.each do |provider| %>
            <%= image_tag(provider.image_path, class: %w(provider)) %>
          <% end %>
        </div>
      </div>
    </header>

    <section class="body">
      <div class="description fr-text--sm fr-mb-0" data-search-catalogue-target="description">
        <%= endpoint.description %>
      </div>

      <div class="fr-text--sm fr-mt-1v fr-mb-0" data-search-catalogue-target="matchingKeywords" style="display: none;"></div>
      <div class="fr-text--sm fr-mt-1v" data-search-catalogue-target="matchingAttributeKeys" style="display: none;"></div>
    </section>

     <section class="metadata fr-text--sm fr-mt-2w fr-pb-0">
      <strong>Modalités d'appel :</strong>  
      <ul >
        <% endpoint.parameters.each do |parameter| %>
        <li class="fr-text--sm fr-mb-0 fr-pb-0">
          <span class="fr-grid-row">
            <%= parameter %>
            <% if parameter == "FranceConnect" %>
            <%= image_tag("api_particulier/cas_usages/pictos/modalite_appel_france_connect.svg", size: '25x25', alt: 'Pictogramme fournisseurs de données regroupés')%>
            <% end %>
          </span>
        </li>
        <% end %>
      </ul>
    </section>

    <footer>
      <ul class="fr-btns-group fr-btns-group--right fr-btns-group--inline-md fr-mt-1w">
        <li>
          <%= link_to t('.cta.swagger'), developers_openapi_path(anchor: endpoint.redoc_anchor), data: { turbo: false }, class: %(fr-btn fr-btn--secondary) %>
        </li>

        <li>
          <%= link_to t('.cta.documentation'), endpoint_path(uid: endpoint.uid), class: %(fr-btn) %>
        </li>
      </ul>
    </footer>
  </article>
</div>
