---
fr:
  documentation_entries:
    sections:
      guide_migration:
        - anchor: 'introduction'
          title: Introduction
          content: |+
            **Ce guide liste les changements effectuÃ©s entre la version 2 de lâ€™API Entreprise et la version 3, et vous livre les Ã©lÃ©ments nÃ©cessaires pour effectuer la migration**.

            Les Ã©volutions prÃ©sentÃ©es ici ont Ã©tÃ© guidÃ©es par trois objectifs&nbsp;:&nbsp;
            - assurer une meilleure sÃ©curitÃ© de la donnÃ©e des fournisseurs ;
            - normaliser les formats pour faciliter la comprÃ©hension et lâ€™industrialisation ;
            - clarifier, documenter les rÃ©ponses et les rendre actionnables par vos logiciels.
        - anchor: 'evolutions-generales'
          title: Ã‰volutions gÃ©nÃ©rales
          content: |+
            ### 1. Jeton d'accÃ¨s Ã  paramÃ©trer dans le header

            **ğŸš€ Avec la V.3 :** Le jeton est Ã  paramÃ©trer uniquement dans le header de lâ€™appel.

            {:.fr-highlight.fr-highlight--example}
            > **Avant** : Le jeton JWT pouvait Ãªtre un paramÃ¨tre de lâ€™URL dâ€™appel (query parameter).

            **ğŸ¤” Pourquoi ?**
            - Respecter les standards de sÃ©curitÃ© ;
            - Garantir que le token ne sera pas utilisÃ© dans un navigateur.

            **ğŸ§° Comment ?**
            Utilisez un client REST API pour tester les API pendant le dÃ©veloppement.
            Des clients sont disponibles gratuitement. API Entreprise utilise pour ses propres tests le client Insomnia. Le plus connu sur le marchÃ© est Postman.
            Une fois le client installÃ©, vous pouvez directement intÃ©grer notre fichier [Swagger/OpenAPI](<%= developers_openapi_path %>){:target="_blank"} dedans.

            ### 2. Votre numÃ©ro de SIRET obligatoire dans le "recipient"

            **ğŸš€ Avec la V.3 :** Le paramÃ¨tre obligatoire `recipient` de lâ€™URL dâ€™appel devra obligatoirement Ãªtre complÃ©tÃ© par votre numÃ©ro de SIRET.

            {:.fr-highlight.fr-highlight--example}
            > **Avant** : Ce paramÃ¨tre obligatoire nâ€™Ã©tait pas contraint en termes de syntaxe.

            **ğŸ¤” Pourquoi ?**
            - Pour garantir la traÃ§abilitÃ© de lâ€™appel jusquâ€™au bÃ©nÃ©ficiaire ayant obtenu lâ€™habilitation Ã  appeler lâ€™API Entreprise et respecter nos engagements auprÃ¨s des fournisseurs de donnÃ©es ;
            - Nous avions trop dâ€™utilisateurs inscrivant le numÃ©ro de SIRET ou RNA de lâ€™entreprise/association recherchÃ©e.

            {:.fr-highlight.fr-highlight--caution}
            > **âš ï¸ Cas particulier**, _vous Ãªtes un Ã©diteur ?_
            > Ce nâ€™est pas votre numÃ©ro de SIRET mais celui de votre client public quâ€™il sâ€™agira de renseigner. API Entreprise doit pouvoir tracer pour quelle entitÃ© publique l'appel a Ã©tÃ© passÃ©.

            ### 3. Codes erreurs spÃ©cifiques Ã  chaque situation, actionnables et documentÃ©s

            **ğŸš€ Avec la V.3 :** Tous les codes erreur HTTPS sont accompagnÃ©s de codes plus prÃ©cis, spÃ©cifiques Ã  chaque situation dâ€™erreur. Une explication en toutes lettres est Ã©galement donnÃ©e dans la payload. Enfin, dans certains cas, une mÃ©tadonnÃ©e actionnable est disponible.

            Dans lâ€™exemple ci-dessous, la clÃ© `retry_in` permet de relancer un appel aprÃ¨s le nombre de secondes indiquÃ©es.

            ###### Exemple de _payload_ dâ€™un code HTTP 502 :
            ```
            {
                "errors": [
                   {
                        "code": "04501",
                        "title": "Analyse de la situation du compte en cours",
                        "detail": "La situation de l'entreprise requiert une
                                   analyse manuelle d'un agent de l'URSSAF.
                                   Une demande d'analyse vient d'Ãªtre envoyÃ©e,
                                   cela prend au maximum 2 jours.",
                        "meta": {
                            "provider": "ACOSS",
                            "retry_in": 172800
                        }
                    }
                ]
            }
            ```

            {:.fr-highlight.fr-highlight--example}
            > Avant : Seul le code HTTP standard vous Ã©tait fourni. Il pouvait correspondre Ã  de nombreuses situations.
            > ###### Exemple de payload dâ€™un code HTTP 502 :
            > ```
            > {
            >    "errors": [
            >        "L'ACOSS ne peut rÃ©pondre Ã  votre requÃªte, rÃ©essayez ultÃ©rieurement  (erreur: Analyse de la situation du compte en cours)"
            >    ]
            > }
            > ```

            **ğŸ¤” Pourquoi ?**
            - Pour prÃ©ciser la nature de lâ€™erreur et vous aider Ã  la comprendre ;
            - Pour vous permettre dâ€™actionner automatiquement lâ€™erreur en utilisant le code.


            **ğŸ§° Comment ?**
            Utiliser les libellÃ©s pour comprendre lâ€™erreur rencontrÃ©e, voire automatiser votre logiciel en fonction du code.
            La liste de tous les codes erreurs spÃ©cifiques (environ 80) est disponible dans le [Swagger](<%= developers_openapi_path %>){:target="_blank"}. La gestion des erreurs et l'explication des codes retours est dÃ©taillÃ©e dans la [documentation technique gÃ©nÃ©rale](<%= developers_path(anchor: 'code-https-et-gestion-des-erreurs') %>){:target="_blank"}.

            ### 4. VolumÃ©trie indiquÃ©e dans le header et actionnable

            La gestion de la volumÃ©trie est maintenue identique Ã  la derniÃ¨re Ã©volution de la V.2 et expliquÃ©e dans cette [documentation](<%= developers_path(anchor: 'volumÃ©trie') %>).

            ### 5. Gestion des Ã©volutions futures

            **ğŸš€ Avec la V.3 :** Toutes les API pourront Ã©voluer indÃ©pendamment les unes des autres. Les anciennes versions resteront toujours disponibles. Le numÃ©ro de version devient donc un paramÃ¨tre de lâ€™appel et non plus une valeur fixe pour toutes les API.
            ğŸ“© Une infolettre annoncera systÃ©matiquement les nouvelles Ã©volutions.

            {:.fr-highlight.fr-highlight--example}
            > **Avant** : Lâ€™Ã©volution dâ€™un endpoint exigeait la montÃ©e en version de toute lâ€™API.

            **ğŸ¤” Pourquoi ?**
            - Permettre lâ€™ajout de nouvelles informations sans forcer les fournisseurs de service Ã  monter de version ;
            - Continuer de garantir la continuitÃ© des API dans le temps.

            **ğŸ§° Comment ?**
            Renseigner directement le numÃ©ro de la version voulue dans lâ€™URL, au mÃªme endroit quâ€™avant, par exemple :
            ```
            https://entreprise.api.gouv.fr/v3/insee/sirene/etablissements/:siret
            ```

            ### 6. Un seul fournisseur et un seul type de donnÃ©es par API

            **ğŸš€ Avec la V.3 :** Chaque API appelle un seul et unique fournisseur de donnÃ©es.

            Il nâ€™existe plus dâ€™API Ã  contenu multiple, comme celle de lâ€™INSEE/Infogreffe, les informations des diffÃ©rents fournisseurs ont Ã©tÃ© sÃ©parÃ©es.

            {:.fr-highlight.fr-highlight--example}
            > **Avant** : Certaines API appelaient deux fournisseurs Ã  la fois. Certaines API regroupaient de trÃ¨s nombreuses informations diffÃ©rentes.

            **ğŸ¤” Pourquoi ?**
            - Faciliter la comprÃ©hension mÃ©tier des donnÃ©es transmises ;
            - RÃ©duire le nombre dâ€™erreurs car le pÃ©rimÃ¨tre de la donnÃ©e disponible est plus explicite ;
            - AccÃ©lÃ©rer le temps de rÃ©ponse des API, car il y a moins dâ€™appels externes ;

            **ğŸ§° Comment ?**
            Utiliser la table de correspondance pour identifier les API en version 3, qui correspondent Ã  celle en version 2 :

            [Table de correspondance<br />des API v.2 > v.3](<%= guide_migration_path(anchor: 'table-de-correspondance-v-2-v-3') %>){:.fr-btn fr-btn--secondary}

            ### 7. Les payloads normalisÃ©es et enrichies

            **ğŸš€ Avec la V.3 :** La payload de rÃ©ponse est normalisÃ©e est composÃ©e systÃ©matiquement de 3 clÃ©s :
            - `data`, qui regroupe l'ensemble des donnÃ©es de la ou les ressources (si c'est une ressource seule, la donnÃ©es est un **objet** `json`, si c'est une collection, la donnÃ©es est un **tableau** `json`) ;
            - `links`, qui donne des liens vers d'autres endpoints relatifs Ã  cette ressource, liens qui peuvent Ãªtre utilisÃ©s par vos logiciels pour relancer un appel ;
            - `meta`, qui regroupe des metadonnÃ©es liÃ©es Ã  API Entreprise ou au fournisseur de donnÃ©es.


            ###### Architecture de la payload V.3 :
            ```
            {
            â€œdataâ€ : { â€¦ },
            â€œlinksâ€ :  { â€¦ },
            â€œmetaâ€ : { â€¦ }
              }
            }
            ```

            {:.fr-highlight.fr-highlight--example}
            > **Avant** : La structure de la payload nâ€™Ã©tait pas normalisÃ©e ni conventionnÃ©e ; elle ne contenait aucune information  explicitant la nature de la rÃ©ponse. Les liens permettant dâ€™appeler une autre API nâ€™Ã©taient pas disponibles.
            > ###### Architecture de la payload V.2 :
            > ```
            > {
            >     LES DONNÃ‰ES,
            > }
            > ```


            **ğŸ¤” Pourquoi ?**
            - Uniformiser toutes les payloads de rÃ©ponses ;
            - Permettre la connexion entre les API grÃ¢ce Ã  lâ€™ajout des liens URL.


        - anchor: 'table-de-correspondance-v-2-v-3'
          title: Table de correspondance V.2 > V.3
          content: |+
            Cette partie du guide de migration permet de trouver la correspondance de chaque API de la V.2 avec les API de la V3&nbsp;:&nbsp;

            **Sommaire des tables de correspondance des API V.2 :**
              * ["V.2 - DonnÃ©es de rÃ©fÃ©rence d'une entitÃ©" - INSEE](#v2/entreprises)
              * ["V.2 - DonnÃ©es de rÃ©fÃ©rence d'un Ã©tablissement" - INSEE](#v2/etablissements)
              * ["V.2 - Extrait RCS" - Infogreffe](#v2/extrait_rcs)
              * ["V.2 - Informations dÃ©claratives dâ€™une association" - MinistÃ¨re de l'IntÃ©rieur](#v2/associations)
              * ["V.2 - Divers documents d'une association" - MinistÃ¨re de l'IntÃ©rieur](#v2/doc-associations)
              * ["V.2 - Actes" - INPI](#v2/actes)
              * ["V.2 - Conventions colectives" - Fabrique numÃ©rique des MinistÃ¨res sociaux](#v2/conventions-collectives)
              * ["V.2 - DonnÃ©es de rÃ©fÃ©ence d'une entreprise artisanale" - CMA France](#v2/entreprises-artisanales)
              * ["V.2 - Effectifs d'uneentreprise" - URSSAF](#v2/effectifs)
              * ["V.2 - Immatriculation EORI" - Douanes](#v2/eori)
              * ["V.2 - Chiffre d'affaies" - DGFIP](#v2/exercices)
              * ["V.2 - Bilans annuels"- INPI](#v2/bilans-inpi)
              * ["V.2 - 3 derniers bilas annuels" - Banque de France](#v2/bilans-bdf)
              * ["V.2 - DÃ©clarations derÃ©sulats" - DGFIP](#v2/liasses-fiscales)
              * ["V.2 - Attestation fisale" - DGFIP](#v2/attestation-fiscale)
              * ["V.2 - Attestation de igilance" - ACOSS](#v2/attestation-vigilance)
              * ["V.2 - ConformitÃ© empli des travailleurs handicapÃ©s" - Agefiph](#v2/conformite-emploi-handicapes)
              * ["V.2 - Cotisations de Ã©curitÃ© agricole" - MSA](#v2/cotis-secu-agricole)
              * ["V.2 - Cotisations retaite bÃ¢timent" - PROBTP](#v2/cotis-retraite-batiment)
              * ["V.2 - Carte professionelle travaux publics" - FNTP](#v2/carte-pro-travaux-publics)
              * ["V.2 - Cotisations conÃ©s payÃ©s & chÃ´mage intempÃ©ries" - CNETP](#v2/cotis-conges-payes-chomage-intemperies)
              * ["V.2 - Certification e BIO" - Agence BIO](#v2/certif-bio)
              * ["V.2 - Certification RE" - ADEME](#v2/rge-ademe)
              * ["V.2 - Certification d qualification du bÃ¢timent" - Qualibat](#v2/qualibat)
              * ["V.2 - Certification d qualification d'ingÃ©nierie" - OPQIBI](#v2/certif-opqibi)
              * ["V.2 - Brevets, modÃ¨le et marques dÃ©posÃ©s" - INPI](#v2/brevet-modeles-marques)


            ### V.2 - DonnÃ©es de rÃ©fÃ©rence d'une entitÃ© - INSEE <a name="v2/entreprises"></a>

            L'API V.2 `/entreprise` de l'INSEE a Ã©tÃ© dÃ©coupÃ©e en plusieurs API diffÃ©rentes dans la V.3 :
            - les donnÃ©es de rÃ©fÃ©rence de l'unitÃ© lÃ©gale tirÃ©es de l'Insee ;
            - les donnÃ©es sur le siÃ¨ge social de l'unitÃ© lÃ©gale sont sÃ©parÃ©es ;
            - les mandataires socaux tirÃ©s d'Infogreffe font aussi l'objet d'une autre API.

            La distinction entre les "diffusibles" et les "non-diffusibles" n'est plus faite par une option d'appel. Nous avons crÃ©Ã© des API distinctes :


            {:.fr-table}
            | API V.2  | API V.3 correspondantes |
            | :--- | :--- |
            | **API [DonnÃ©es de rÃ©fÃ©rence d'une entitÃ© - INSEE](https://v2.entreprise.api.gouv.fr/catalogue/#a-entreprises){:target="_blank"}<br /> Sans** l'option d'appel des "non-diffusibles" |  |
            | DonnÃ©es concernant les unitÃ©s lÃ©gales "diffusibles".  | API **DonnÃ©es unitÃ© lÃ©gale diffusible** <br /> `v3/insee/sirene/unites_legales/diffusibles/{siren}`<br /> [ğŸ“– Fiche mÃ©tier](<%= endpoint_path(uid: 'insee/unites_legales_diffusibles') %>){:target="_blank"} <br /> [ğŸ“Ÿ Swagger](<%= developers_openapi_path(anchor: 'tag/Informations-generales/paths/~1v3~1insee~1sirene~1unites_legales~1diffusibles~1{siren}/get') %>){:target="_blank"}<br /> <br />Ces informations sont aussi disponibles depuis : < br/> API **DonnÃ©es Ã©tablissement diffusible** <br /> `v3/insee/sirene/etablissements/diffusibles/{siret}`<br /> [ğŸ“– Fiche mÃ©tier](<%= endpoint_path(uid: 'insee/etablissements_diffusibles') %>){:target="_blank"} <br /> [ğŸ“Ÿ Swagger](<%= developers_openapi_path(anchor: 'tag/Informations-generales/paths/~1v3~1insee~1sirene~1etablissements~1diffusibles~1{siret}/get') %>){:target="_blank"}<br /> <br /> ğŸ *Nouvelle donnÃ©e disponible :* Sexe des personnes physiques.|
            | DonnÃ©es concernant les mandataires sociaux de l'entreprise.   | API **Mandataires sociaux** <br /> `v3/infogreffe/mandataires_sociaux/{siren}`<br /> [ğŸ“– Fiche mÃ©tier](<%= endpoint_path(uid: 'infogreffe/mandataires_sociaux') %>){:target="_blank"} <br /> [ğŸ“Ÿ Swagger](<%= developers_openapi_path(anchor: 'tag/Informations-generales/paths/~1v3~1infogreffe~1rcs~1unites_legales~1{siren}~1mandataires_sociaux/get') %>){:target="_blank"}<br /> <br />ğŸ *Nouvelle donnÃ©e disponible :* Lieu de naissance des mandataires sociaux.|
            | DonnÃ©es concernant le siÃ¨ge social d'une unitÃ© lÃ©gale "diffusible".  | API **DonnÃ©es siÃ¨ge social diffusible** <br /> `v3/insee/sirene/unites_legales/diffusibles/{siren}/siege`<br /> [ğŸ“– Fiche mÃ©tier](<%= endpoint_path(uid: 'insee/siege_social_diffusibles') %>){:target="_blank"} <br /> [ğŸ“Ÿ Swagger](<%= developers_openapi_path(anchor: 'tag/Informations-generales/paths/~1v3~1insee~1sirene~1unites_legales~1diffusibles~1{siren}~1siege_social/get') %>){:target="_blank"}|
            | Adresse du siÃ¨ge social dÂ´une unitÃ© lÃ©gale "diffusible"  | API **Adresse Ã©tablissement diffusible** <br /> `v3/insee/sirene/etablissements/diffusibles/{siret}/adresse`<br /> [ğŸ“– Fiche mÃ©tier](<%= endpoint_path(uid: 'adresse_etablissements_diffusibles') %>){:target="_blank"} <br /> [ğŸ“Ÿ Swagger](<%= developers_openapi_path(anchor: 'tag/Informations-generales/paths/~1v3~1insee~1sirene~1etablissements~1diffusibles~1{siret}~1adresse/get') %>){:target="_blank"}|
            | **API [DonnÃ©es de rÃ©fÃ©rence d'une entitÃ© - INSEE](https://v2.entreprise.api.gouv.fr/catalogue/#a-entreprises){:target="_blank"} <br /> Avec** l'option d'appel des "non-diffusibles"| |
            | DonnÃ©es concernant toutes les unitÃ©s lÃ©gales, y compris les "non-diffusibles".   | API **DonnÃ©es unitÃ© lÃ©gale** <br /> `v3/insee/sirene/unites_legales/{siren}`<br /> [ğŸ“– Fiche mÃ©tier](<%= endpoint_path(uid: 'insee/unites_legales') %>){:target="_blank"} <br /> [ğŸ“Ÿ Swagger](<%= developers_openapi_path(anchor: 'tag/Informations-generales/paths/~1v3~1insee~1sirene~1unites_legales~1{siren}/get') %>){:target="_blank"}<br /> <br />Ces informations sont aussi disponibles depuis l'API **DonnÃ©es Ã©tablissement** <br /> `v3/insee/sirene/etablissements/{siret}`<br /> [ğŸ“– Fiche mÃ©tier](<%= endpoint_path(uid: 'insee/etablissements') %>){:target="_blank"} <br /> [ğŸ“Ÿ Swagger](<%= developers_openapi_path(anchor: 'tag/Informations-generales/paths/~1v3~1insee~1sirene~1etablissements~1{siret}/get') %>){:target="_blank"} <br /> <br /> ğŸ *Nouvelle donnÃ©e disponible :* Sexe des personnes physiques.|
            | DonnÃ©es concernant les mandataires sociaux de l'entreprise.   | API **Mandataires sociaux** <br /> `v3/infogreffe/mandataires_sociaux/{siren}`<br /> [ğŸ“– Fiche mÃ©tier](<%= endpoint_path(uid: 'infogreffe/mandataires_sociaux') %>){:target="_blank"} <br /> [ğŸ“Ÿ Swagger](<%= developers_openapi_path(anchor: 'tag/Informations-generales/paths/~1v3~1infogreffe~1rcs~1unites_legales~1{siren}~1mandataires_sociaux/get') %>){:target="_blank"}<br /> <br />ğŸ *Nouvelle donnÃ©e disponible :* Lieu de naissance des mandataires sociaux.|
            | DonnÃ©es concernant le siÃ¨ge social d'une unitÃ© lÃ©gale, qu'elle soit "diffusible" ou non.  | API **DonnÃ©es siÃ¨ge social** <br /> `v3/insee/sirene/unites_legales/{siren}/siege`<br /> [ğŸ“– Fiche mÃ©tier](<%= endpoint_path(uid: 'insee/siege_social') %>){:target="_blank"} <br /> [ğŸ“Ÿ Swagger](<%= developers_openapi_path(anchor: 'tag/Informations-generales/paths/~1v3~1insee~1sirene~1unites_legales~1{siren}~1siege_social/get') %>){:target="_blank"}|
            | Adresse du siÃ¨ge social dÂ´une unitÃ© lÃ©gale, quÂ´elle soit "diffusible" ou non. | API **Adresse Ã©tablissement** <br /> `v3/insee/sirene/etablissements/{siret}/adresse`<br /> [ğŸ“– Fiche mÃ©tier](<%= endpoint_path(uid: 'insee/adresse_etablissements') %>){:target="_blank"} <br /> [ğŸ“Ÿ Swagger](<%= developers_openapi_path(anchor: 'tag/Informations-generales/paths/~1v3~1insee~1sirene~1etablissements~1{siret}~1adresse/get') %>){:target="_blank"}|


            ### V.2 - DonnÃ©es de rÃ©fÃ©rence d'un Ã©tablissement - INSEE <a name="v2/etablissements"></a>

            L'API V.2 `/etablissement` de l'INSEE devient l'**API centrale des donnÃ©es Insee en V.3**. Ã€ partir du SIRET de l'Ã©tablissement, vous rÃ©cupÃ©rez les donnÃ©es de l'Ã©tablissement, dont son adresse postale, ainsi que les donnÃ©es de l'unitÃ© lÃ©gale qui le concerne.

            La distinction entre les "diffusibles" et les "non-diffusibles" n'est plus faite par une option d'appel. Nous avons crÃ©Ã© des API distinctes :

            {:.fr-table}
            | API V.2  | API V.3 correspondantes |
            | :--- | :--- |
            | **API [DonnÃ©es de rÃ©fÃ©rence d'un Ã©tablissement - INSEE](https://v2.entreprise.api.gouv.fr/catalogue/#a-etablissements){:target="_blank"}** | |
            |**Sans** l'option d'appel des "non-diffusibles"  | API **DonnÃ©es Ã©tablissement diffusible** <br /> `v3/insee/sirene/etablissements/diffusibles/{siret}`<br /> [ğŸ“– Fiche mÃ©tier](<%= endpoint_path(uid: 'insee/etablissements_diffusibles') %>){:target="_blank"} <br /> [ğŸ“Ÿ Swagger](<%= developers_openapi_path(anchor: 'tag/Informations-generales/paths/~1v3~1insee~1sirene~1etablissements~1diffusibles~1{siret}/get') %>){:target="_blank"}<br /> <br /> ğŸ§© Cette API dÃ©livre en plus des informations sur l'unitÃ© lÃ©gale de l'Ã©tablissement. |
            |**Avec** l'option d'appel des "non-diffusibles"  | API **DonnÃ©es Ã©tablissement** <br /> `v3/insee/sirene/etablissements/{siret}`<br /> [ğŸ“– Fiche mÃ©tier](<%= endpoint_path(uid: 'insee/etablissements') %>){:target="_blank"} <br /> [ğŸ“Ÿ Swagger](<%= developers_openapi_path(anchor: 'tag/Informations-generales/paths/~1v3~1insee~1sirene~1etablissements~1{siret}/get') %>){:target="_blank"} <br /> <br /> ğŸ§© Cette API dÃ©livre en plus des informations sur l'unitÃ© lÃ©gale de l'Ã©tablissement.|


            ### V.2 - Extrait RCS - Infogreffe <a name="v2/extrait_rcs"></a>

            {:.fr-table}
            | API V.2  | API V.3 correspondante |
            | :--- | :--- |
            | **API [Extrait RCS - Infogreffe](https://v2.entreprise.api.gouv.fr/catalogue/#a-extraits_rcs_infogreffe){:target="_blank"}** | API **Extrait RCS** <br /> `/v3/infogreffe/rcs/unites_legales/{siren}/extrait_kbis`<br /> [ğŸ“– Fiche mÃ©tier](<%= endpoint_path(uid: 'infogreffe/rcs/extrait') %>){:target="_blank"} <br /> [ğŸ“Ÿ Swagger](<%= developers_openapi_path(anchor: 'tag/Informations-generales/paths/~1v3~1infogreffe~1rcs~1unites_legales~1{siren}~1extrait_kbis/get') %>){:target="_blank"} |


            ### V.2 - Informations dÃ©claratives dâ€™une association - MinistÃ¨re de l'IntÃ©rieur <a name="v2/associations"></a>

            {:.fr-table}
            | API V.2  | API V.3 correspondante |
            | :--- | :--- |
            | **API [Informations dÃ©claratives dâ€™une association - MinistÃ¨re de l'IntÃ©rieur](https://v2.entreprise.api.gouv.fr/catalogue/#a-associations){:target="_blank"}** | API **DonnÃ©es du RNA d'une association** <br /> `/v3/ministere_interieur/rna/associations/{siret_or_rna}`<br /> [ğŸ“– Fiche mÃ©tier](<%= endpoint_path(uid: 'ministere_interieur/rna') %>){:target="_blank"} <br /> [ğŸ“Ÿ Swagger](<%= developers_openapi_path(anchor: 'tag/Informations-generales/paths/~1v3~1ministere_interieur~1rna~1associations~1{siret_or_rna}/get') %>){:target="_blank"} |

            ### V.2 - Divers documents d'une association - MinistÃ¨re de l'IntÃ©rieur <a name="v2/doc-associations"></a>

            {:.fr-table}
            | API V.2  | API V.3 correspondante |
            | :--- | :--- |
            | **API [Divers documents d'une association - MinistÃ¨re de l'IntÃ©rieur](https://v2.entreprise.api.gouv.fr/catalogue/#a-documents_associations){:target="_blank"}** | API **Divers documents d'une association** <br /> `/v3/ministere_interieur/rna/associations/{siret_or_rna}/documents`<br /> [ğŸ“– Fiche mÃ©tier](<%= endpoint_path(uid: 'ministere_interieur/documents_associations') %>){:target="_blank"} <br /> [ğŸ“Ÿ Swagger](<%= developers_openapi_path(anchor: 'tag/Informations-generales/paths/~1v3~1ministere_interieur~1rna~1associations~1{siret_or_rna}~1documents/get') %>){:target="_blank"} |

            ### V.2 - Actes - INPI <a name="v2/actes"></a>

            {:.fr-table}
            | API V.2  | API V.3 correspondante |
            | :--- | :--- |
            | **API [Actes - INPI](https://v2.entreprise.api.gouv.fr/catalogue/#a-actes_inpi){:target="_blank"}** | API **Actes** <br /> `/v3/inpi/unites_legales/{siren}/actes`<br /> [ğŸ“– Fiche mÃ©tier](<%= endpoint_path(uid: 'inpi/actes') %>){:target="_blank"} <br /> [ğŸ“Ÿ Swagger](<%= developers_openapi_path(anchor: 'tag/Informations-generales/paths/~1v3~1inpi~1unites_legales~1{siren}~1actes/get') %>){:target="_blank"} |

            ### V.2 - Conventions collectives - Fabrique numÃ©rique des MinistÃ¨res sociaux <a name="v2/conventions-collectives"></a>

            {:.fr-table}
            | API V.2  | API V.3 correspondante |
            | :--- | :--- |
            | **API [Conventions collectives - Fabrique numÃ©rique des MinistÃ¨res sociaux](https://v2.entreprise.api.gouv.fr/catalogue/#a-conventions_collectives){:target="_blank"}** | API **Conventions collectives** <br /> `/v3/fabrique_numerique_ministeres_sociaux/etablissements/{siret}/conventions_collectives`<br /> [ğŸ“– Fiche mÃ©tier](<%= endpoint_path(uid: 'fabrique_numerique_ministeres_sociaux/conventions_collectives') %>){:target="_blank"} <br /> [ğŸ“Ÿ Swagger](<%= developers_openapi_path(anchor: 'tag/Informations-generales/paths/~1v3~1fabrique_numerique_ministeres_sociaux~1etablissements~1{siret}~1conventions_collectives/get') %>){:target="_blank"} |


            ### V.2 - DonnÃ©es de rÃ©fÃ©rence d'une entreprise artisanale - CMA France <a name="v2/entreprises-artisanales"></a>

            {:.fr-table}
            | API V.2  | API V.3 correspondante |
            | :--- | :--- |
            | **API [DonnÃ©es de rÃ©fÃ©rence d'une entreprise artisanale - CMA France](https://v2.entreprise.api.gouv.fr/catalogue/#a-entreprises_artisanales_cma){:target="_blank"}** | API **DonnÃ©es du RNM d'une entreprise artisanale** <br /> `/v3/cma_france/rnm/unites_legales/{siren}`<br /> [ğŸ“– Fiche mÃ©tier](<%= endpoint_path(uid: 'cma_france/rnm') %>){:target="_blank"} <br /> [ğŸ“Ÿ Swagger](<%= developers_openapi_path(anchor: 'tag/Informations-generales/paths/~1v3~1cma_france~1rnm~1unites_legales~1{siren}/get') %>){:target="_blank"} |


            ### V.2 - Effectifs d'une entreprise - URSSAF <a name="v2/effectifs"></a>

            {:.fr-table}
            | API V.2  | API V.3 correspondante |
            | :--- | :--- |
            | **API [Effectifs d'une entreprise - URSSAF](https://v2.entreprise.api.gouv.fr/catalogue/#a-effectifs_..._acoss_covid){:target="_blank"}** |  API **Effectifs** <br /> [ğŸ“– Fiche mÃ©tier](<%= endpoint_path(uid: 'urssaf/effectifs') %>){:target="_blank"} <br /> âš™ï¸ Swagger prochainement disponible  |


            ### V.2 - Immatriculations EORI -  Douanes <a name="v2/eori"></a>

            {:.fr-table}
            | API V.2  | API V.3 correspondante |
            | :--- | :--- |
            | **API [Immatriculations EORI -  Douanes](https://v2.entreprise.api.gouv.fr/catalogue/#a-eori_douanes){:target="_blank"}** | API **Immatriculations EORI** <br /> `/v3/douanes/etablissements/{siret_or_eori}/immatriculations_eori`<br /> [ğŸ“– Fiche mÃ©tier](<%= endpoint_path(uid: 'douanes/immatriculation_eori') %>){:target="_blank"} <br /> [ğŸ“Ÿ Swagger](<%= developers_openapi_path(anchor: 'tag/Informations-generales/paths/~1v3~1douanes~1etablissements~1{siret_or_eori}~1immatriculations_eori/get') %>){:target="_blank"} |


            ### V.2 - Chiffre d'affaires - DGFIP <a name="v2/exercices"></a>

            {:.fr-table}
            | API V.2  | API V.3 correspondante |
            | :--- | :--- |
            | **API [Chiffre d'affaires - DGFIP](https://v2.entreprise.api.gouv.fr/catalogue/#a-exercices){:target="_blank"}** | API **Chiffre d'affaires** <br /> `v3/dgfip/etablissements/{siret}/chiffres_affaires`<br /> [ğŸ“– Fiche mÃ©tier](<%= endpoint_path(uid: 'dgfip/chiffres_affaires') %>){:target="_blank"} <br /> [ğŸ“Ÿ Swagger](<%= developers_openapi_path(anchor: 'tag/Informations-financieres/paths/~1v3~1dgfip~1etablissements~1{siret}~1chiffres_affaires/get') %>){:target="_blank"} |


            ### V.2 - Bilans annuels - INPI <a name="v2/bilans-inpi"></a>

            {:.fr-table}
            | API V.2  | API V.3 correspondante |
            | :--- | :--- |
            | **API [Bilans annuels - INPI](https://v2.entreprise.api.gouv.fr/catalogue/#a-bilans_inpi){:target="_blank"}** | API **Comptes annuels du RNCS** <br /> <br /> [ğŸ“– Fiche mÃ©tier](<%= endpoint_path(uid: 'inpi/comptes_annuels_rncs') %>){:target="_blank"} <br /> âš™ï¸ Swagger prochainement disponible |


            ### V.2 - 3 derniers bilans annuels - Banque de France <a name="v2/bilans-bdf"></a>

            {:.fr-table}
            | API V.2  | API V.3 correspondante |
            | :--- | :--- |
            | **API [3 derniers bilans annuels - Banque de France](https://v2.entreprise.api.gouv.fr/catalogue/#a-bilans_entreprises_bdf){:target="_blank"}** |  API **Trois derniers bilans annuels** <br /> <br /> [ğŸ“– Fiche mÃ©tier](<%= endpoint_path(uid: 'banque_de_france/bilans') %>){:target="_blank"} <br /> âš™ï¸ Swagger prochainement disponible  |


            ### V.2 - DÃ©clarations de rÃ©sulats - DGFIP <a name="v2/liasses-fiscales"></a>

            {:.fr-table}
            | API V.2  | API V.3 correspondante |
            | :--- | :--- |
            | **API [DÃ©clarations de rÃ©sulats - DGFIP](https://v2.entreprise.api.gouv.fr/catalogue/#a-liasses_fiscales_dgfip){:target="_blank"}** | API **Liasses fiscales** <br /> `v3/dgfip/unites_legales/{siren}/liasses_fiscales/{year}`<br /> [ğŸ“– Fiche mÃ©tier](<%= endpoint_path(uid: 'dgfip/liasses_fiscales') %>){:target="_blank"} <br /> [ğŸ“Ÿ Swagger](<%= developers_openapi_path(anchor: 'tag/Informations-financieres/paths/~1v3~1dgfip~1unites_legales~1{siren}~1liasses_fiscales~1{year}/get') %>){:target="_blank"} |


            ### V.2 - Attestation fiscale - DGFIP <a name="v2/attestation-fiscale"></a>

            {:.fr-table}
            | API V.2  | API V.3 correspondante |
            | :--- | :--- |
            | **API [Attestation fiscale - DGFIP](https://v2.entreprise.api.gouv.fr/catalogue/#a-attestations_fiscales_dgfip){:target="_blank"}** | API **Attestation fiscale - DGFIP** <br /> `v3/dgfip/unites_legales/{siren}/attestation_fiscale`<br /> [ğŸ“– Fiche mÃ©tier](<%= endpoint_path(uid: 'dgfip/attestations_fiscales') %>){:target="_blank"} <br /> [ğŸ“Ÿ Swagger](<%= developers_openapi_path(anchor: 'tag/Attestations-sociales-et-fiscales/paths/~1v3~1dgfip~1unites_legales~1{siren}~1attestation_fiscale/get') %>){:target="_blank"} |

            ### V.2 - Attestation de vigilance - ACOSS <a name="v2/attestation-vigilance"></a>

            {:.fr-table}
            | API V.2  | API V.3 correspondante |
            | :--- | :--- |
            | **API [Attestation de vigilance - ACOSS](https://v2.entreprise.api.gouv.fr/catalogue/#a-attestations_sociales_acoss){:target="_blank"}** | API **Attestation de vigilance - URSSAF Caisse nationale** <br /> `v3/urssaf/unites_legales/{siren}/attestation_vigilance`<br /> [ğŸ“– Fiche mÃ©tier](<%= endpoint_path(uid: 'urssaf/attestation_vigilance') %>){:target="_blank"} <br /> [ğŸ“Ÿ Swagger](<%= developers_openapi_path(anchor: 'tag/Attestations-sociales-et-fiscales/paths/~1v3~1urssaf~1unites_legales~1{siren}~1attestation_vigilance/get') %>){:target="_blank"} |

            ### V.2 - ConformitÃ© emploi des travailleurs handicapÃ©s - Agefiph <a name="v2/conformite-emploi-handicapes"></a>

            {:.fr-table}
            | API V.2  | API V.3 correspondante |
            | :--- | :--- |
            | **API [ConformitÃ© emploi des travailleurs handicapÃ©s - Agefiph](https://v2.entreprise.api.gouv.fr/catalogue/#a-attestations_agefiph){:target="_blank"}** | âŒ Ressource supprimÃ©e en V3 - *Depuis 2021, la contribution annuelle de lâ€™OETH (Obligation dâ€™Emploi de Travailleur HandicapÃ©) relÃ¨ve de l'URSSAF et non plus de l'Agefiph*. <br /> <br /> La conformitÃ© Ã  l'OETH est donc dÃ©sormais incluse dans l'[API attestation de vigileance - URSSAF](<%= endpoint_path(uid: 'urssaf/attestation_vigilance') %>){:target="_blank"} ou dans l'[API conformitÃ© cotisations de sÃ©curitÃ© sociale agricole - MSA](<%= endpoint_path(uid: 'msa/conformites_cotisations') %>){:target="_blank"} pour les entreprises relevant du rÃ©gime agricole. |

            ### V.2 - Cotisations de sÃ©curitÃ© agricole - MSA <a name="v2/cotis-secu-agricole"></a>

            {:.fr-table}
            | API V.2  | API V.3 correspondante |
            | :--- | :--- |
            | **API [Cotisations de sÃ©curitÃ© agricole - MSA](https://v2.entreprise.api.gouv.fr/catalogue/#a-cotisations_msa){:target="_blank"}** | API **ConformitÃ© cotisations de sÃ©curitÃ© sociale agricole** <br /> `v3/msa/etablissements/{siret}/conformite_cotisations`<br /> [ğŸ“– Fiche mÃ©tier](<%= endpoint_path(uid: 'msa/conformites_cotisations') %>){:target="_blank"} <br /> [ğŸ“Ÿ Swagger](<%= developers_openapi_path(anchor: 'tag/Attestations-sociales-et-fiscales/paths/~1v3~1msa~1etablissements~1{siret}~1conformite_cotisations/get') %>){:target="_blank"} |

            ### V.2 - Cotisations retraite bÃ¢timent - PROBTP <a name="v2/cotis-retraite-batiment"></a>

            {:.fr-table}
            | API V.2  | API V.3 correspondante |
            | :--- | :--- |
            | **API [Cotisations retraite bÃ¢timent - PROBTP](https://v2.entreprise.api.gouv.fr/catalogue/#a-cotisation_retraite_probtp){:target="_blank"}** | API **ConformitÃ© cotisations retraite bÃ¢timent** <br /> <br /> [ğŸ“– Fiche mÃ©tier](<%= endpoint_path(uid: 'probtp/conformites_cotisations_retraite') %>){:target="_blank"} <br /> âš™ï¸ Swagger prochainement disponible  <br /> <br /> ğŸš€ En V.3, plus besoin de faire deux appels diffÃ©rents. **Avec un seul appel, vous obtenez l'Ã©tat de conformitÃ© et l'URL de tÃ©lÃ©chargement** de l'attestation si elle est disponible. |

            ### V.2 - Carte professionnelle travaux publics - FNTP <a name="v2/carte-pro-travaux-publics"></a>

            {:.fr-table}
            | API V.2  | API V.3 correspondante |
            | :--- | :--- |
            | **API [Carte professionnelle travaux publics - FNTP](https://v2.entreprise.api.gouv.fr/catalogue/#a-cartes_professionnelles_fntp){:target="_blank"}** | API **Carte professionnelle travaux publics** <br /> `v3/fntp/unites_legales/{siren}/carte_professionnelle_travaux_publics`<br /> [ğŸ“– Fiche mÃ©tier](<%= endpoint_path(uid: 'fntp/carte_professionnelle_travaux_public') %>){:target="_blank"} <br /> [ğŸ“Ÿ Swagger](<%= developers_openapi_path(anchor: 'tag/Attestations-sociales-et-fiscales/paths/~1v3~1fntp~1unites_legales~1{siren}~1carte_professionnelle_travaux_publics/get') %>){:target="_blank"} |


            ### V.2 - Cotisations congÃ©s payÃ©s & chÃ´mage intempÃ©ries - CNETP <a name="v2/cotis-conges-payes-chomage-intemperies"></a>

            {:.fr-table}
            | API V.2  | API V.3 correspondante |
            | :--- | :--- |
            | **API [Cotisations congÃ©s payÃ©s & chÃ´mage intempÃ©ries - CNETP](https://v2.entreprise.api.gouv.fr/catalogue/#a-certificats_cnetp){:target="_blank"}** | API **Attestation de cotisations congÃ©s payÃ©s & chÃ´mage-intempÃ©ries** <br /> `v3/cnetp/unites_legales/{siren}/attestation_cotisations_conges_payes_chomage_intemperies`<br /> [ğŸ“– Fiche mÃ©tier](<%= endpoint_path(uid: 'cnetp/attestations_cotisations_conges_payes_chomage_intemperies') %>){:target="_blank"} <br /> [ğŸ“Ÿ Swagger](<%= developers_openapi_path(anchor: 'tag/Attestations-sociales-et-fiscales/paths/~1v3~1cnetp~1unites_legales~1{siren}~1attestation_cotisations_conges_payes_chomage_intemperies/get') %>){:target="_blank"}|

            ### V.2 - Certification en BIO - Agence BIO <a name="v2/certif-bio"></a>

            {:.fr-table}
            | API V.2  | API V.3 correspondante |
            | :--- | :--- |
            | **API [Certification en BIO - Agence BIO](https://v2.entreprise.api.gouv.fr/catalogue/#a-certificats_agence_bio){:target="_blank"}** |  API **Certifications en BIO** <br /> <br /> [ğŸ“– Fiche mÃ©tier](<%= endpoint_path(uid: 'agence_bio/certifications_bio') %>){:target="_blank"} <br /> âš™ï¸ Swagger prochainement disponible  |


            ### V.2 - Certification RGE - ADEME <a name="v2/rge-ademe"></a>

            {:.fr-table}
            | API V.2  | API V.3 correspondante |
            | :--- | :--- |
            | **API [Certification RGE - ADEME](https://v2.entreprise.api.gouv.fr/catalogue/#a-certificats_rge_ademe){:target="_blank"}** | API **Certificat RGE** <br /> `v3/ademe/etablissements/{siret}/certification_rge`<br /> [ğŸ“– Fiche mÃ©tier](<%= endpoint_path(uid: 'ademe/certifications_rge') %>){:target="_blank"} <br /> [ğŸ“Ÿ Swagger](<%= developers_openapi_path(anchor: 'tag/Certifications-professionnelles/paths/~1v3~1ademe~1etablissements~1{siret}~1certification_rge/get') %>){:target="_blank"} |

            ### V.2 - Certification de qualification du bÃ¢timent - Qualibat <a name="v2/qualibat"></a>

            {:.fr-table}
            | API V.2  | API V.3 correspondante |
            | :--- | :--- |
            | **API [Certification de qualification du bÃ¢timent - Qualibat](https://v2.entreprise.api.gouv.fr/catalogue/#a-certificats_qualibat){:target="_blank"}** | API **Certification Qualibat** <br /> `v3/qualibat/etablissements/{siret}/certification_batiment`<br /> [ğŸ“– Fiche mÃ©tier](<%= endpoint_path(uid: 'qualibat/certifications_batiment') %>){:target="_blank"} <br /> [ğŸ“Ÿ Swagger](<%= developers_openapi_path(anchor: 'tag/Certifications-professionnelles/paths/~1v3~1qualibat~1etablissements~1{siret}~1certification_batiment/get') %>){:target="_blank"} |

            ### V.2 - Certification de qualification d'ingÃ©nierie - OPQIBI <a name="v2/certif-opqibi"></a>

            {:.fr-table}
            | API V.2  | API V.3 correspondante |
            | :--- | :--- |
            | **API [Certification de qualification d'ingÃ©nierie - OPQIBI](https://v2.entreprise.api.gouv.fr/catalogue/#a-certificats_opqibi){:target="_blank"}** |  API **Certification d'ingÃ©nierie OPQIBI** <br /> <br /> [ğŸ“– Fiche mÃ©tier](<%= endpoint_path(uid: 'opqibi/qualifications_ingenierie') %>){:target="_blank"} <br /> âš™ï¸ Swagger prochainement disponible  |

            ### V.2 - Brevets, modÃ¨les et marques dÃ©posÃ©s - INPI <a name="v2/brevet-modeles-marques"></a>

            {:.fr-table}
            | API V.2  | API V.3 correspondantes |
            | :--- | :--- |
            | **API [Brevets, modÃ¨les et marques dÃ©posÃ©s - INPI](https://v2.entreprise.api.gouv.fr/catalogue/#a-extraits_courts_inpi){:target="_blank"}** | |
            | DonnÃ©es des brevets | API **Brevets dÃ©posÃ©s** <br /> `v3/inpi/unites_legales/{siren}/brevets`<br /> [ğŸ“– Fiche mÃ©tier](<%= endpoint_path(uid: 'inpi/brevets') %>){:target="_blank"} <br /> [ğŸ“Ÿ Swagger](<%= developers_openapi_path(anchor: 'tag/Propriete-intellectuelle/paths/~1v3~1inpi~1unites_legales~1{siren}~1brevets/get') %>){:target="_blank"} |
            | DonnÃ©es des dessins & modÃ¨les | API **ModÃ¨les dÃ©posÃ©s** <br /> `v3/inpi/unites_legales/{siren}/modeles`<br /> [ğŸ“– Fiche mÃ©tier](<%= endpoint_path(uid: 'inpi/modeles') %>){:target="_blank"} <br /> [ğŸ“Ÿ Swagger](<%= developers_openapi_path(anchor: 'tag/Propriete-intellectuelle/paths/~1v3~1inpi~1unites_legales~1{siren}~1modeles/get') %>){:target="_blank"} |
            | DonnÃ©es des marques | API **Marques dÃ©posÃ©es** <br /> `v3/inpi/unites_legales/{siren}/marques`<br /> [ğŸ“– Fiche mÃ©tier](<%= endpoint_path(uid: 'inpi/marques') %>){:target="_blank"} <br /> [ğŸ“Ÿ Swagger](<%= developers_openapi_path(anchor: 'tag/Propriete-intellectuelle/paths/~1v3~1inpi~1unites_legales~1{siren}~1marques/get') %>){:target="_blank"} |

      developers:
        - anchor: 'prerequis-techniques'
          title: PrÃ©requis techniques
          content: |+
            Voici la liste des **fondamentaux techniques Ã  mettre en place pour le bon fonctionnement de lâ€™API Entreprise**&nbsp;:&nbsp;

            - â˜‘ï¸ ÃŠtre en mesure de gÃ©rer le protocole HTTPS ;

            - â˜‘ï¸ Avoir une version de langage rÃ©cente. Si vous utilisez Java, une version >= 1.8 est nÃ©cessaire (pour la gestion des certificats de +1024 bit, du TLS 1.2 minimum et des suites cryptographiques - ciphers) ;

            - â˜‘ï¸ Sâ€™assurer que nos AutoritÃ©s de Certification (AC) pour les certificats SSL sont autorisÃ©es par vos systÃ¨mes ;

            - â˜‘ï¸ L'API Entreprise est uniquement accessible par internet. Si vous avez un pare-feu, il faut donc prÃ©voir de whitelister l'adresse IP du service API Entreprise ;

            - â˜‘ï¸ Il est interdit d'interroger l'API Entreprise depuis un site web en front-end, car le jeton d'accÃ¨s serait alors divulguÃ©. Il vous faut donc interroger nos API depuis une application en back-end. Nous n'autoriserons pas le CORS (CORS - Cross Origin Ressource Sharing) ;

            - â˜‘ï¸ PrÃ©voir non seulement les coÃ»ts de dÃ©veloppement mais Ã©galement les coÃ»ts de maintenance ;

            - â˜‘ï¸ ÃŠtre en capacitÃ© de gÃ©rer les mises Ã  jour de l'API Entreprise.

        - anchor: 'specifications-generales'
          title: SpÃ©cifications gÃ©nÃ©rales ğŸ›
          content: |+
            ### Respecter la volumÃ©trie

            #### Les plafonds

            Les limites de volumÃ©trie sur API Entreprise se dÃ©composent en deux rÃ¨gles principales&nbsp;:&nbsp;

            - **Un plafond gÃ©nÃ©ral par IP de 1000 requÃªtes/minute**.

            - **Une volumÃ©trie par jeton par groupe dâ€™endpoints&nbsp;:&nbsp**;
                  - **1er groupe**&nbsp;:&nbsp;Les endpoints renvoyant du JSON constituent un premier groupe. Vous pouvez effectuer jusquâ€™Ã  250 requÃªtes/min/jeton sur ce groupe.
                  - **2Ã¨me groupe**&nbsp;:&nbsp;Les endpoints transmettant des documents constituent un autre groupe. La volumÃ©trie maximale dâ€™appel concernant ce groupe est de 50 requÃªtes/min/jeton.
                  - **Exceptions**&nbsp;:&nbsp;Certains endpoints Ã©chappent Ã  cette rÃ¨gle et prÃ©sentent une volumÃ©trie spÃ©cifique par endpoint&nbsp;:&nbsp;
                          - Lâ€™[attestation fiscale de la DGFIP](<%= developers_openapi_path(anchor: 'tag/Attestations-sociales-et-fiscales/paths/~1v3~1dgfip~1unites_legales~1{siren}~1attestation_fiscale/get') %>)&nbsp;:&nbsp;5 requÃªtes/min/jeton ;
                          - Les [actes de lâ€™INPI](<%= developers_openapi_path(anchor: 'tag/Informations-generales/paths/~1v3~1inpi~1unites_legales~1{siren}~1actes/get') %>)&nbsp;:&nbsp;5 requÃªtes/min/jeton ;
                          - Les [comptes annuels du RNCS de lâ€™INPI](<%= endpoint_path(uid: 'inpi/comptes_annuels_rncs') %>)&nbsp;:&nbsp;5 requÃªtes/min/jeton ;
                          - Les [effectifs de lâ€™URSSAF](<%= endpoint_path(uid: 'urssaf/effectifs') %>)&nbsp;:&nbsp;250 requÃªtes/min/jeton ;

            #### Informations volumÃ©trie dans le header

            ##### Pour toutes les rÃ©ponses :

            Dans toutes les rÃ©ponses de nos API, le header vous transmet des informations sur la volumÃ©trie :

            {:.fr-table}
            | Champs du header    |   Signification    |     Format           |
            |:------------------------------|:------------------|:------------:|
            | `RateLimit-Limit` |La **limite** concernant l'endpoint appelÃ©, soit le nombre de requÃªte/minute. | Nombre|
            | `RateLimit-Remaining` |Le **nombre d'appels restants** durant la pÃ©riode courante d'une minute. | Nombre |
            | `RateLimit-Reset` |La **fin de la pÃ©riode** courante. | Timestamp |

            {:.fr-highlight.fr-highlight--example}
            >**Exemple&nbsp;:**
            >ConsidÃ©rons un endpoint ayant une limite de 50 appels /minute.
            >Vous faÃ®tes un premier appel Ã  10h00 pile, et effectuez un second appel 20 secondes plus tard, puis un troisiÃ¨me 10 secondes plus tard, vous aurez les valeurs suivantes :
            > - `RateLimit-Limit` : 50 ;
            > - `RateLimit-Remaining` : 47 (50 moins les 3 appels effectuÃ©s) ;
            > - `RateLimit-Reset` : [*Timestamp correspondant au jour prÃ©sent Ã  10h01*]. Le premier appel initialise le compteur (Ã  10h00 pile), la pÃ©riode se termine 1min plus tard.
            >
            > Vous pouvez donc jusqu'Ã  10h01 pile effectuer 47 appels, le compteur sera rÃ©initialisÃ© Ã  50 Ã  ce moment-lÃ .

            ##### En cas de dÃ©passement :

            Si vous dÃ©passez le nombre d'appels autorisÃ©s (`RateLimit-Remaining = 0`), le serveur rÃ©pondra avec le `status 429` sur tous les appels suivants dans la mÃªme pÃ©riode.

            Le header associÃ© Ã  ce code erreur `429` sera accompagnÃ©&nbsp;:&nbsp;
            - des trois champs prÃ©cÃ©dents ;
            - d'un champ supplÃ©mentaire indiquant le temps Ã  attendre avant de pouvoir effectuer des nouveaux appels.

            {:.fr-table}
            | Champs du header    |   Signification    |     Format           |
            |:------------------------------|:------------------|:------------:|
            | `RateLimit-Limit` |La **limite** concernant l'endpoint appelÃ©, soit le nombre de requÃªte/minute. | Nombre|
            | `RateLimit-Remaining` |Le **nombre d'appels restants** durant la pÃ©riode courante d'une minute. | Nombre |
            | `RateLimit-Reset` |La **fin de la pÃ©riode** courante. | Timestamp |
            | *Uniquement pour le header associÃ© au code erreur 429* <br> `Retry-after`| **DÃ©compte du nombre de secondes restantes** avant la prochaine pÃ©riode | Secondes |

            Vous pouvez donc **utiliser les champs du header pour optimiser votre consommation de l'API Entreprise**.

            #### RÃ¨gles de bannissement en cas de surconsommation

            En cas de non prise en compte des codes erreurs `429` ou en cas de dÃ©passement de la limite de volumÃ©trie globale, **votre IP sera temporairement bannie de nos serveurs pour une durÃ©e fixe et non rÃ©vocable de 12h**. Si vous avez plusieurs jetons, tous seront donc bloquÃ©s pendant ce laps de temps.

            Les appels depuis une IP bannie ne renvoient pas de codes HTTP, le serveur ne rÃ©pond tout simplement pas.
            Vous pouvez en revanche vÃ©rifier si vous avez dÃ©passÃ© ce seuil depuis votre [compte utilisateur](<%= user_tokens_path %>){:target="_blank"}.

            {:.fr-highlight}
            > â„¹ï¸ Au bout de ces 12 heures, vos accÃ¨s sont automatiquement rÃ©tablis ; **il est donc inutile d'Ã©crire au support**.

            Nous vous invitons Ã  prendre les mesures nÃ©cessaires car le dÃ©passement intervient gÃ©nÃ©ralement chez nos utilisateurs lorsque leur programme n'a pas Ã©tÃ© correctement configurÃ©.

            Pour les appels de traitement de masse, il est souhaitable que vous fassiez vos **batchs automatiques la nuit ou durant les heures creuses** afin de ne pas affecter la qualitÃ© du service pour le reste des usagers.

            ### Configurer vos timeout

            Le timeout est le temps d'attente maximal de rÃ©ponse Ã  une requÃªte. Il vous permet de ne pas immobiliser votre logiciel en le laissant bloquÃ© sur un appel sans rÃ©ponse.

            De faÃ§on gÃ©nÃ©rale, nous vous recommandons un timeout&nbsp;:&nbsp;
            - de **5 secondes** pour les appels de donnÃ©es structurÃ©es JSON ;
            - de **12 secondes** pour les appels retournant un PDF ou un ZIP.

            De mÃªme, pour ne pas immobiliser nos serveurs, nous attendons les rÃ©ponses de nos fournisseurs un maximum de 10 secondes avant de vous les retransmettre. Si ce dÃ©lai dâ€™attente est dÃ©passÃ© un code erreur HTTP `504` vous sera renvoyÃ©.

            ### Autoriser nos AutoritÃ©s de Certifications

            API Entreprise utilise [DHIMYOTIS](https://www.dhimyotis.com/) comme organisme de dÃ©livrance de ses certificats SSL principaux ainsi que [Let's Encrypt](https://letsencrypt.org/) pour certains services secondaires.

            Il est conseillÃ© d'ajouter ces AutoritÃ©s de Certifications (AC) Ã  votre base de confiance si vous en avez une. Une solution idÃ©ale est d'utiliser un paquet d'autoritÃ©s mises Ã  jour automatiquement ([Mozilla par exemple](https://wiki.mozilla.org/CA/Included_Certificates))

            API Entreprise utilise des certificats multi-domaines ; c'est Ã  dire avec un "nom courant" (_common name - CN_) et plusieurs "noms alternatifs du sujet" (_subject alternatives names - SAN_), **soyez certains que vos outils fonctionnent correctement avec**.

            ### GÃ©rer les erreurs - codes HTTPS

            #### Un code standard HTTPS pour catÃ©goriser le statut de l'appel
            Toutes les rÃ©ponse de lâ€™API Entreprise sont envoyÃ©es avec un code HTTPS. **Ces codes permettent de se renseigner sur le statut de lâ€™appel**, et sont harmonisÃ©s pour l'ensemble des API quelque soir le fournisseur de donnÃ©es.
            Pour en savoir plus sur les codes HTTPS, cet article de [Wikipedia](https://fr.wikipedia.org/wiki/Liste_des_codes_HTTP){:target="_blank"} constitue une bonne base explicative.

            {:.fr-details}
            <details>

            <summary>
            ğŸ‘€ Consulter la liste des codes HTTPS et leur signification.
            </summary>
            ##### En cas de succÃ¨s, le code HTTP commence par 2 :

            {:.fr-table}
            | Code HTTPS                                       |      Signification                 |
            |--------------------------------------------------|------------------------------------|
            |`200` | **Tout va bien.**|
            |`206` | **RÃ©ponse incomplÃ¨te** - La requÃªte a fonctionnÃ© mais un des fournisseurs de donnÃ©es a renvoyÃ© une erreur ou une rÃ©ponse incomplÃ¨te. Les valeurs concernÃ©es dans le JSON contiennent le message : â€œDonnÃ©e indisponibleâ€.|

            ##### En cas dâ€™Ã©chec, si lâ€™erreur vient de votre cÃ´tÃ©, le code HTTP commence par 4 :

            {:.fr-table}
            | Code HTTP                       |      Signification                     |
            |---------------------------------|----------------------------------------|
            |`400` | **Mauvaise requÃªte** â€“ La syntaxe de votre requÃªte est erronÃ©e.|
            |`401` | **Non autorisÃ©** â€“ Votre token est invalide ou manquant.|
            |`403` | **Interdit** â€“ Le serveur a compris votre requÃªte mais refuse de lâ€™exÃ©cuter car votre jeton ne vous donne pas accÃ¨s Ã  cette ressource.|
            |`404` | **Non trouvÃ©** â€“ La ressource (l'entreprise, le certificat, â€¦) demandÃ©e n'a pas Ã©tÃ© trouvÃ©e. Cette erreur intervient par exemple lors de lâ€™entrÃ©e dâ€™un numÃ©ro de SIREN qui nâ€™existe pas, ou bien lorsque lâ€™entreprise quâ€™il designe est en dehors du pÃ©rimÃ¨tre de lâ€™endpoint.|
            |`422` | **EntitÃ© non traitable** â€“ Le format de la donnÃ©e passÃ©e en paramÃ¨tre n'est pas acceptÃ©. Par exemple, si vous entrez 20 chiffres dans le paramÃ¨tre SIREN, votre requÃªte est automatiquement rejetÃ©e, car un SIREN fait obligatoirement 9 chiffres.|
            |`451` | **Indisponible pour raisons lÃ©gales** - ce code est spÃ©cifiquement renvoyÃ© lorsque vous demandez les informations dâ€™une entreprise ou dâ€™un Ã©tablissement non diffusible au travers des endpoints `entreprises` et `etablissements` de lâ€™INSEE, sans avoir utilisÃ© lâ€™option dâ€™appel spÃ©cifique. Pour en savoir plus, [consultez la documentation de cet endpoint dans le catalogue de donnÃ©es](../catalogue/).|


            ###### En cas dâ€™Ã©chec, si lâ€™erreur provient dâ€™API Entreprise ou bien des fournisseurs de donnÃ©es, le code HTTP commence par 5 :

            {:.fr-table}
            | Code HTTP                        |      Signification                     |
            |----------------------------------|----------------------------------------|
            |`500` | **Erreur interne Ã  API Entreprise** â€“ Une erreur interne du serveur dâ€™API Entreprise est survenue. [Consultez votre compte utilisateur](<%= user_tokens_path %>){:target="_blank"}, lâ€™historique de lâ€™incident devrait y Ãªtre affichÃ© ; ainsi que les actions Ã  venir.
            |`502` | **Erreur interne fournisseur** â€“ Une erreur interne du serveur du ou des fournisseurs est survenue. [Consultez votre compte utilisateur](<%= user_tokens_path %>){:target="_blank"}, lâ€™historique de lâ€™incident devrait y Ãªtre affichÃ© ; ainsi que les actions Ã  venir.
            |`503` | **Service non disponible** â€“ Le service est temporairement indisponible ou en maintenance. Pour connaÃ®tre lâ€™historique de disponibilitÃ© et les incidents type de lâ€™endpoint, vous pouvez [consulter le catalogue de donnÃ©es](../catalogue/).
            |`504` | **IntermÃ©diaire hors dÃ©lai** â€“ Le(s) producteur(s) de donnÃ©es ont mis trop de temps Ã  rÃ©pondre. Notre temps dâ€™attente, nous permettant de ne pas immobiliser le serveur sur un appel sans rÃ©ponse, est fixÃ© Ã  10 secondes et a Ã©tÃ© dÃ©passÃ©.|

            </details>

            #### Un code supplÃ©mentaire pour prÃ©ciser l'erreur et enclencher une action

            Tous les codes erreur HTTPS sont accompagnÃ©s de **codes plus prÃ©cis, spÃ©cifiques Ã  chaque situation dâ€™erreur**. Une explication en toutes lettres est Ã©galement donnÃ©e dans la payload. Enfin, dans certains cas, une mÃ©tadonnÃ©e actionnable est disponible.

            Dans lâ€™exemple ci-dessous, la clÃ© `retry_in` permet justement de relancer un appel aprÃ¨s le nombre de secondes indiquÃ©es.

            >_Exemple de payload d'un code HTTPS 502 :_
            >```
            >{
            >    "errors": [
            >       {
            >            "code": "04501",
            >            "title": "Analyse de la situation du compte en cours",
            >            "detail": "La situation de l'entreprise requiert une analyse manuelle d'un agent de l'URSSAF. Une >demande d'analyse vient d'Ãªtre envoyÃ©e, cela prend au maximum 2 jours.",
            >            "meta": {
            >                "provider": "ACOSS",
            >                "retry_in": 172800
            >           }
            >        }
            >    ]
            >}
            >```


            Retrouvez tous les codes erreurs pour chaque endpoint dans [notre swagger, partie "Response samples"](<%= developers_openapi_path %>){:target="_blank"}.
            La liste des codes spÃ©cifiques Ã  chaque endpoint y est disponible.


            ### Renseigner les paramÃ¨tres d'appel et de traÃ§abilitÃ©

            API Entreprise vous permet dâ€™accÃ©der Ã  des donnÃ©es protÃ©gÃ©es. Câ€™est pourquoi, dans un **objectif de traÃ§abilitÃ©**, nous vous demandons de renseigner dans chacune de vos requÃªtes, non seulement un jeton dâ€™accÃ¨s, mais aussi **certaines informations qualifiant votre requÃªte**.


            {:.fr-highlight.fr-highlight--caution}
            > âš ï¸ **Ces paramÃ¨tres sont obligatoires**. Les appels ne comportant pas ces paramÃ¨tres sont rejetÃ©s, et un code erreur vous est renvoyÃ©.


            Pour chaque endpoint, nous prÃ©cisons dans le [swagger, rubrique "Query parameters"](<%= developers_openapi_path %>){:target="_blank"} les paramÃ¨tres obligatoires spÃ©cifiques, ci-dessous une explication dÃ©taillÃ©e des Ã©lÃ©ments Ã  fournir pour chaque paramÃ¨tre de traÃ§abilitÃ© :

            {:.fr-table}
            | ParamÃ¨tre                                                  |      Information Ã  renseigner           |
            |:----------------------------------------------------------:|-----------------------------------------|
            |`&context=CadreDeLaRequÃªte`|**Cadre de la requÃªte** <br>Par exemple : aides publiques, marchÃ©s publics ou gestion d'un rÃ©fÃ©rentiel tiers utilisÃ© pour tel type d'application*.*
            |`&recipient=BÃ©nÃ©ficaireDeL'Appel`|**BÃ©nÃ©ficiaire de l'appel** <br>SIRET de l'administration destinatrice des donnÃ©es.
            |`&object= RaisonDeL'AppelOuIdentifiant`|**La raison de l'appel** <br> ou l'identifiant de la procÃ©dure. <br> L'identifiant peut Ãªtre interne Ã  votre organisation ou bien un numÃ©ro de marchÃ© publique, un nom de procÃ©dure ; l'essentiel est que celui-ci vous permette de tracer et de retrouver les informations relatives Ã  l'appel. En effet, vous devez pouvoir justifier de la raison d'un appel auprÃ¨s du fournisseur de donnÃ©es. <br> Description courte (< 50 caractÃ¨res).

            ### Changer de version

            Depuis la version 3 de l'API Entreprise, toutes les API peuvent Ã©voluer indÃ©pendamment les unes des autres. Les anciennes versions (Ã  partir de la V.3) restent donc toujours disponibles.
            Depuis la version 3, le numÃ©ro de version est un paramÃ¨tre de lâ€™appel et non plus une valeur fixe pour toutes les API comme en version 1 et 2 (Les versions 1 et 2 sont dÃ©finitivement dÃ©prÃ©ciÃ©es, la version 1 Ã©tant dÃ©jÃ  fermÃ©e et **la version 2 fermant le 30 juin 2023**).

            >_Exemple d'utilisation du paramÃ¨tre d'appel de version :_
            > Imaginons l'API documents, cette API est disponible en v.3 et une nouvelle version est sortie, la v.4.
            > Pour appeler la version souhaitÃ©e, il vous faudra directement inscrire le numÃ©ro de la version dans l'URL : `https://entreprise.api.gouv.fr/v3/...` pour la V.3 ou `https://entreprise.api.gouv.fr/v4/...` pour la V.4.

            {:.fr-highlight}
            ğŸ“© Une lettre d'information annonce systÃ©matiquement les nouvelles Ã©volutions. Vous pouvez vous abonner [ici](TODO).


            ### Monitorer la disponibilitÃ© des API

            Pour vous informer de la disponibilitÃ© de nos API :
            - vous pouvez retrouver tous les incidents et opÃ©rations de maintenance directement depuis notre [page de statut](https://status.entreprise.api.gouv.fr/){:target="_blank"}, cette page est complÃ©tÃ©e manuellement par nos services ;
            - vous pourrez bientÃ´t utiliser nos API de monitoring (âš™ï¸ dÃ©veloppements en cours).


            ### Retrouver les droits d'un jeton JWT

            Pour connaÃ®tre **la liste des APIs auxquelles vous avez le droit** avec votre jeton d'accÃ¨s, vous pouvez le vÃ©rifier avec l'API `/privileges`.

            Si vous gÃ©rez les tokens pour vos utilisateurs, vous pouvez aussi utiliser cette API pour vÃ©rifier les droits associÃ©s Ã  leurs tokens.

            ##### La requÃªte HTTP :

            ```
            https://entreprise.api.gouv.fr/v2/privileges?token=LeTokenATester
            ```

            Le paramÃ¨tre d'appel Ã  renseigner est le token dont vous souhaitez connaÃ®tre les droits.

            > **Exemple de rÃ©ponse JSON :**
            >```
            >{
            >  "privileges": [
            >    "attestations_agefiph",
            >    [...]
            >    "actes_bilans_inpi"
            >  ]
            >}
            > ```

            La rÃ©ponse JSON renvoie la liste des API autorisÃ©es. Retrouvez-leurs spÃ©ciifications techniques dans le [Swagger](TODO).

        - anchor: 'kit-de-mise-en-production'
          title: Kit de mise en production ğŸš€
          content: |+
            ### RÃ©cupÃ©rer le jeton JWT ğŸ”‘

            Seule la personne ayant fait la demande d'habilitation a accÃ¨s au token, au travers du [compte utilisateur API Entreprise](<%= user_tokens_path %>){:target="_blank"}.

            - _Si vous avez rÃ©alisÃ© la demande d'habilitation_, vous pouvez **rÃ©cupÃ©rer vos tokens ou jetons d'accÃ¨s directement depuis votre [compte](<%= user_tokens_path %>){:target="_blank"}**.

            - _Si vous n'avez pas rÃ©alisÃ© la demande d'habilitation mais que vous Ãªtes la personne en charge d'intÃ©grer l'API Entreprise_, **la personne ayant effectuÃ© la demande d'habilitation peut vous transmettre le token de faÃ§on sÃ©curisÃ©e depuis son [compte](<%= user_tokens_path %>){:target="_blank"}**, en cliquant sur le bouton _"Transmettre le jeton Ã  mon Ã©quipe technique"_. Vous recevrez alors, **par e-mail, un lien d'une durÃ©e de 4 heures** vous donnant accÃ¨s au jeton.

            {:.fr-highlight.fr-highlight--caution}
            > âš ï¸ L'utilisation de cette fonctionnalitÃ© du compte utilisateur doit avoir pour unique objectif la transmission sÃ©curisÃ©e de la clÃ© aux services techniques qui intÃ©greront l'API Entreprise. **Le jeton JWT ne doit jamais Ãªtre transmis par e-mail.**

            ### Faire sa premiÃ¨re requÃªte

            #### Utiliser l'environnement de production - _Swagger_

            AprÃ¨s avoir rÃ©cupÃ©rÃ© votre jeton, vous pouvez faire un premier appel de test.

            Utilisez l'[environnement de production documentÃ© (_Swagger_)](https://api.gouv.fr/documentation/api-entreprise), disponible sur api.gouv.fr.
            Il permet, Ã  l'aide d'un token d'authentification valide ğŸ”‘, d'effectuer directement depuis le navigateur des tests de l'API. Les donnÃ©es confidentielles restent bien protÃ©gÃ©es. Vous y trouverez aussi la spÃ©cification technique tÃ©lÃ©chargeable sous format YAML afin de pouvoir accÃ©lÃ©rer le dÃ©veloppement de vos outils d'interfaÃ§age avec API Entreprise.

            {:.fr-highlight.fr-highlight--caution}
            > âš ï¸ Attention, pour rappel, vous ne devez jamais copier-coller un token dans la barre de recherche classique d'un moteur de recherche ou dans un e-mail. Pour rÃ©cupÃ©rer votre jeton de faÃ§on sÃ©curisÃ©e, consultez cette [rubrique](TODO).


            #### Ã‰lÃ©ments constitutifs de la requÃªte HTTP d'API Entreprise

            Chaque URL de requÃªte est spÃ©cifiÃ©e dans le [Swagger](<%= developers_openapi_path %>){:target="_blank_"},

            ###### Exemple de requÃªte :

            ```
            https://entreprise.api.gouv.fr/v3/attestation_fiscales_dgfip/SirenDeLâ€™Entreprise?token=ğŸ“&user_id=ğŸ“&context=ğŸ“&recipient=ğŸ“&object=ğŸ“
            ```

            {:.fr-table}
            | Ã‰lÃ©ments composant la requÃªte              |   Ã‰tat    | Exemples      |
            |--------------------------------------------|-----------|---------------|
            |**Domaine** <br>(ou prÃ©fixe) <br>qui conduit Ã  l'API de faÃ§on sÃ©curisÃ©e| prÃ©dÃ©fini par endpoint|`https://entreprise.api.gouv.fr`|
            |**NumÃ©ro de la version** <br>(par dÃ©faut dÃ©sormais en V3)| prÃ©dÃ©fini par endpoint| `/v3`|
            |**Nom de la donnÃ©e recherchÃ©e** <br>(ou *endpoint*)| prÃ©dÃ©fini par endpoint| `/attestation_fiscale_dgfip`|
            |**IdentitÃ© de l'Ã©tablissement concernÃ©** <br>(souvent SIREN ou SIRET)| Ã  choisir ğŸ“|`/SIRENouSIRETdeL'Etablissement`|
            |**Votre jeton d'accÃ¨s**| Ã  renseigner ğŸ“|`?token=JetonD'Habilitation`|
            |**Des paramÃ¨tres de traÃ§abilitÃ©**| Ã  renseigner ğŸ“| `&context=CadreDeLaRequÃªte`<br> â„¹ï¸ Plus d'informations disponibles dans la partie [Instruire les paramÃ¨tres de traÃ§abilitÃ©](TODO){:target="_blank"}|

            #### Constatez votre premiÃ¨re trace dâ€™appel depuis le compte utilisateur

            Une fois que vous avez fait un premier appel, celui-ci est **rÃ©pertoriÃ©** dans votre compte utilisateur, en passant par [la liste de tous vos tokens](https://dashboard.entreprise.api.gouv.fr/me/tokens), et en cliquant sur "Voir les statistiques".

            ### Configurer le logiciel mÃ©tier

            Documentation en construction&nbsp;ğŸš§

        - title: Incidents et maintenances ğŸš§
          content: |+
            ### Que faire en cas de rupture de service ?

            Le service ne rÃ©pond plus ? consultez [cette rubrique de notre FAQ](<%= faq_index_path(anchor: 'rupture-de-service') %>){:target="_blank"}.

            ### ÃŠtre informÃ© des ruptures de service

            Pour Ãªtre informÃ© des diffÃ©rentes indisponibilitÃ©s, [abonnez-vous aux notifications par e-mail depuis notre page de statut](https://status.entreprise.api.gouv.fr/subscribe/email){:target="_blank"}.

        - anchor: 'renouvellement-du-jwt'
          title: Renouvellement du JWT ğŸ”‘
          content: >-
            Pour comprendre comment renouveler votre jeton, consultez [cette rubrique de notre FAQ](<%= faq_index_path(anchor: 'jetons-d-acces') %>){:target="_blank"}.

