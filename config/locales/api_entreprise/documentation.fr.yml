---
fr:
  api_entreprise:
    documentation_pages:
      guide_migration:
        title: Guide de migration&nbsp;üìã
        sections:
          - anchor: 'introduction'
            title: Introduction
            content: |+
              **Ce guide liste les changements effectu√©s entre la version 2 de l‚ÄôAPI&nbsp;Entreprise et la version 3, et vous livre les √©l√©ments n√©cessaires pour effectuer la migration**.

              Les √©volutions pr√©sent√©es ici ont √©t√© guid√©es par trois objectifs&nbsp;:&nbsp;
              - assurer une meilleure s√©curit√© de la donn√©e des fournisseurs ;
              - normaliser les formats pour faciliter la compr√©hension et l‚Äôindustrialisation ;
              - clarifier, documenter les r√©ponses et les rendre actionnables par vos logiciels.

              {:.fr-highlight.fr}
              > **Votre jeton d'acc√®s reste identique üîë**
              > Pour acc√©der √† la version 3 de l'API&nbsp;Entreprise, utilisez le m√™me token qu'en V.2. En effet, tant que votre jeton est valide, il est inutile de refaire une demande d'acc√®s car la migration vers la V.3 ne change pas les droits que vous avez d√©j√† obtenu.
          - anchor: 'evolutions-generales'
            title: √âvolutions g√©n√©rales
            subsections:
              - title: 1. Jeton d'acc√®s √† param√©trer dans le header
                anchor: 'jeton-dacc√®s-√†-param√©trer-dans-le-header-'
                content: |+
                  **üöÄ Avec la V.3 :** Le jeton est √† param√©trer uniquement dans le header de l‚Äôappel.

                  {:.fr-highlight.fr-highlight--example}
                  > **Avant** : Le jeton JWT pouvait √™tre un param√®tre de l‚ÄôURL d‚Äôappel (query parameter).

                  **ü§î Pourquoi ?**
                  - Respecter les standards de s√©curit√© ;
                  - Garantir que le token ne sera pas utilis√© dans un navigateur.

                  **üß∞ Comment ?**
                  Utilisez un client REST API pour tester les API pendant le d√©veloppement.
                  Des clients sont disponibles gratuitement. API&nbsp;Entreprise utilise pour ses propres tests le client Insomnia. Le plus connu sur le march√© est Postman.
                  Une fois le client install√©, vous pouvez directement int√©grer notre fichier [Swagger/OpenAPI](<%= developers_openapi_path %>){:target="_blank"} dedans.

              - title: 2. Votre num√©ro de SIRET obligatoire dans le "recipient"
                anchor: 'votre-num√©ro-de-siret-obligatoire-dans-le-recipient'
                content: |+
                  **üöÄ Avec la V.3 :** Le param√®tre obligatoire `recipient` de l‚ÄôURL d‚Äôappel devra obligatoirement √™tre compl√©t√© par votre num√©ro de SIRET.

                  {:.fr-highlight.fr-highlight--example}
                  > **Avant** : Ce param√®tre obligatoire n‚Äô√©tait pas contraint en termes de syntaxe.

                  **ü§î Pourquoi ?**
                  - Pour garantir la tra√ßabilit√© de l‚Äôappel jusqu‚Äôau b√©n√©ficiaire ayant obtenu l‚Äôhabilitation √† appeler l‚ÄôAPI&nbsp;Entreprise et respecter nos engagements aupr√®s des fournisseurs de donn√©es ;
                  - Nous avions trop d‚Äôutilisateurs inscrivant le num√©ro de SIRET ou RNA de l‚Äôentreprise/association recherch√©e.

                  {:.fr-highlight.fr-highlight--caution}
                  > **‚ö†Ô∏è Cas particulier**, _vous √™tes un √©diteur ?_
                  > Ce n‚Äôest pas votre num√©ro de SIRET mais celui de votre client public qu‚Äôil s‚Äôagira de renseigner. API&nbsp;Entreprise doit pouvoir tracer pour quelle entit√© publique l'appel a √©t√© pass√©.

                  Pour en savoir plus sur les param√®tres obligatoires d'appel, consultez les [sp√©cifications techniques](<%= developers_path(anchor: 'renseigner-les-param√®tres-dappel-et-de-tra√ßabilit√©') %>).

              - title: 3. Codes erreurs sp√©cifiques √† chaque situation, actionnables et document√©s
                anchor: 'codes-erreurs-sp√©cifiques-√†-chaque-situation-actionnables-et-document√©s'
                content: |+
                  **üöÄ Avec la V.3 :** Tous les codes erreur HTTPS sont accompagn√©s de codes plus pr√©cis, sp√©cifiques √† chaque situation d‚Äôerreur. Une explication en toutes lettres est √©galement donn√©e dans la payload. Enfin, dans certains cas, une m√©tadonn√©e actionnable est disponible.

                  Dans l‚Äôexemple ci-dessous, la cl√© `retry_in` permet de relancer un appel apr√®s le nombre de secondes indiqu√©es.

                  ###### Exemple de _payload_ d‚Äôun code HTTP 502 :
                  ```
                  {
                    "errors": [
                      {
                        "code": "04501",
                        "title": "Analyse de la situation du compte en cours",
                        "detail": "La situation de l'entreprise requiert une
                                   analyse manuelle d'un agent de l'URSSAF.
                                   Une demande d'analyse vient d'√™tre envoy√©e,
                                   cela prend au maximum 2 jours.",
                        "meta": {
                          "provider": "ACOSS",
                          "retry_in": 172800
                        }
                      }
                    ]
                  }
                  ```

                  {:.fr-highlight.fr-highlight--example}
                  > Avant : Seul le code HTTP standard vous √©tait fourni. Il pouvait correspondre √† de nombreuses situations.
                  > ###### Exemple de payload d‚Äôun code HTTP 502 :
                  > ```
                  > {
                  >   "errors": [
                  >     "L'ACOSS ne peut r√©pondre √† votre requ√™te, r√©essayez ult√©rieurement  (erreur: Analyse de la situation du compte en cours)"
                  >   ]
                  > }
                  > ```

                  **ü§î Pourquoi ?**
                  - Pour pr√©ciser la nature de l‚Äôerreur et vous aider √† la comprendre ;
                  - Pour vous permettre d‚Äôactionner automatiquement l‚Äôerreur en utilisant le code.


                  **üß∞ Comment ?**
                  Utiliser les libell√©s pour comprendre l‚Äôerreur rencontr√©e, voire automatiser votre logiciel en fonction du code.
                  La liste de tous les codes erreurs sp√©cifiques (environ 80) est disponible dans le [Swagger](<%= developers_openapi_path %>){:target="_blank"}. La gestion des erreurs et l'explication des codes retours est d√©taill√©e dans la [documentation technique g√©n√©rale](<%= developers_path(anchor: 'code-https-et-gestion-des-erreurs') %>){:target="_blank"}.

              - title: 4. Volum√©trie indiqu√©e dans le header et actionnable
                anchor: 'volum√©trie-indiqu√©e-dans-le-header-et-actionnable'
                content: |+
                  La gestion de la volum√©trie est maintenue identique √† la derni√®re √©volution de la V.2 et expliqu√©e dans cette [documentation](<%= developers_path(anchor: 'volum√©trie') %>)

              - title: 5. Gestion des √©volutions futures
                anchor: 'gestion-des-√©volutions-futures'
                content: |+
                  **üöÄ Avec la V.3 :** Toutes les API pourront √©voluer ind√©pendamment les unes des autres. Les anciennes versions resteront disponibles si le fournisseur de la donn√©e continue de nous transmettre les informations. Le num√©ro de version devient donc un param√®tre de l‚Äôappel et non plus une valeur fixe pour toutes les API.
                  üì© Une infolettre annoncera syst√©matiquement les nouvelles √©volutions.

                  {:.fr-highlight.fr-highlight--example}
                  > **Avant** : L‚Äô√©volution d‚Äôun endpoint exigeait la mont√©e en version de toute l‚ÄôAPI.

                  **ü§î Pourquoi ?**
                  - Permettre l‚Äôajout de nouvelles informations sans forcer les fournisseurs de service √† monter de version ;
                  - Continuer de garantir la continuit√© des API dans le temps.

                  **üß∞ Comment ?**
                  Renseigner directement le num√©ro de la version voulue dans l‚ÄôURL, au m√™me endroit qu‚Äôavant, par exemple :
                  ```
                  https://entreprise.api.gouv.fr/v3/insee/sirene/etablissements/:siret
                  ```

              - title: 6. Un seul fournisseur et un seul type de donn√©es par API
                anchor: 'un-seul-fournisseur-et-un-seul-type-de-donn√©es-par-api'
                content: |+
                  **üöÄ Avec la V.3 :** Chaque API appelle un seul et unique fournisseur de donn√©es.

                  Il n‚Äôexiste plus d‚ÄôAPI √† contenu multiple, comme celle de l‚ÄôINSEE/Infogreffe, les informations des diff√©rents fournisseurs ont √©t√© s√©par√©es.

                  {:.fr-highlight.fr-highlight--example}
                  > **Avant** : Certaines API appelaient deux fournisseurs √† la fois. Certaines API regroupaient de tr√®s nombreuses informations diff√©rentes.

                  **ü§î Pourquoi ?**
                  - Faciliter la compr√©hension m√©tier des donn√©es transmises ;
                  - R√©duire le nombre d‚Äôerreurs car le p√©rim√®tre de la donn√©e disponible est plus explicite ;
                  - Acc√©l√©rer le temps de r√©ponse des API, car il y a moins d‚Äôappels externes ;

                  **üß∞ Comment ?**
                  Utiliser la table de correspondance pour identifier les API en version 3, qui correspondent √† celle en version 2 :

                  [Table de correspondance<br>des API v.2 > v.3](<%= guide_migration_path(anchor: 'table-de-correspondance-v-2-v-3') %>){:.fr-btn fr-btn--secondary}

              - title: 7. Les payloads normalis√©es et enrichies
                anchor: 'les-payloads-normalis√©es-et-enrichies'
                content: |+
                  **üöÄ Avec la V.3 :** La payload de r√©ponse est normalis√©e est compos√©e syst√©matiquement de 3 cl√©s :
                  - `data`, qui regroupe l'ensemble des donn√©es de la ou les ressources (si c'est une ressource seule, la donn√©es est un **objet** `json`, si c'est une collection, la donn√©es est un **tableau** `json`) ;
                  - `links`, qui donne des liens vers d'autres endpoints relatifs √† cette ressource, liens qui peuvent √™tre utilis√©s par vos logiciels pour relancer un appel ;
                  - `meta`, qui regroupe des metadonn√©es li√©es √† API&nbsp;Entreprise ou au fournisseur de donn√©es.


                  ###### Architecture de la payload V.3 :
                  ```
                  {
                    "data" : { ‚Ä¶ },
                    "links" :  { ‚Ä¶ },
                    "meta" : { ‚Ä¶ }
                  }
                  ```

                  {:.fr-highlight.fr-highlight--example}
                  > **Avant** : La structure de la payload n‚Äô√©tait pas normalis√©e ni conventionn√©e ; elle ne contenait aucune information  explicitant la nature de la r√©ponse. Les liens permettant d‚Äôappeler une autre API n‚Äô√©taient pas disponibles.
                  > ###### Architecture de la payload V.2 :
                  > ```
                  > {
                  >   LES DONN√âES,
                  > }
                  > ```


                  **ü§î Pourquoi ?**
                  - Uniformiser toutes les payloads de r√©ponses ;
                  - Permettre la connexion entre les API gr√¢ce √† l‚Äôajout des liens URL.


          - anchor: 'table-de-correspondance-v-2-v-3'
            title: Table de correspondance V.2 > V.3
            content: |+
              Cette partie du guide de migration permet de trouver la correspondance de chaque API de la V.2 avec les API de la V3&nbsp;:&nbsp;

              **Sommaire des tables de correspondance des API V.2&nbsp;:**
                * ["V.2 - Donn√©es de r√©f√©rence d'une entit√©" - INSEE](#v2/entreprises)
                * ["V.2 - Donn√©es de r√©f√©rence d'un √©tablissement" - INSEE](#v2/etablissements)
                * ["V.2 - Extrait RCS" - Infogreffe](#v2/extrait_rcs)
                * ["V.2 - Informations d√©claratives d‚Äôune association" - Minist√®re de l'Int√©rieur](#v2/associations)
                * ["V.2 - Divers documents d'une association" - Minist√®re de l'Int√©rieur](#v2/doc-associations)
                * ["V.2 - Actes" - INPI](#v2/actes)
                * ["V.2 - Conventions collectives" - Fabrique num√©rique des Minist√®res sociaux](#v2/conventions-collectives)
                * ["V.2 - Donn√©es de r√©f√©rence d'une entreprise artisanale" - CMA France](#v2/entreprises-artisanales)
                * ["V.2 - Effectifs d'une entreprise" - URSSAF](#v2/effectifs)
                * ["V.2 - Immatriculation EORI" - Douanes](#v2/eori)
                * ["V.2 - Chiffre d'affaires" - DGFIP](#v2/exercices)
                * ["V.2 - Bilans annuels"- INPI](#v2/bilans-inpi)
                * ["V.2 - 3 derniers bilans annuels" - Banque de France](#v2/bilans-bdf)
                * ["V.2 - D√©clarations de r√©sultats" - DGFIP](#v2/liasses-fiscales)
                * ["V.2 - Attestation fiscale" - DGFIP](#v2/attestation-fiscale)
                * ["V.2 - Attestation de vigilance" - ACOSS](#v2/attestation-vigilance)
                * ["V.2 - Conformit√© emploi des travailleurs handicap√©s" - Agefiph](#v2/conformite-emploi-handicapes)
                * ["V.2 - Cotisations de s√©curit√© agricole" - MSA](#v2/cotis-secu-agricole)
                * ["V.2 - Cotisations retraite b√¢timent" - PROBTP](#v2/cotis-retraite-batiment)
                * ["V.2 - Carte professionelle travaux publics" - FNTP](#v2/carte-pro-travaux-publics)
                * ["V.2 - Cotisations cong√©s pay√©s & ch√¥mage intemp√©ries" - CNETP](#v2/cotis-conges-payes-chomage-intemperies)
                * ["V.2 - Certification en BIO" - Agence BIO](#v2/certif-bio)
                * ["V.2 - Certification RGE" - ADEME](#v2/rge-ademe)
                * ["V.2 - Certification de qualification du b√¢timent" - Qualibat](#v2/qualibat)
                * ["V.2 - Certification de qualification d'ing√©nierie" - OPQIBI](#v2/certif-opqibi)
                * ["V.2 - Brevets, mod√®le et marques d√©pos√©s" - INPI](#v2/brevet-modeles-marques)
            subsections:
              - title: V.2 - Donn√©es de r√©f√©rence d'une entit√© - INSEE <a name="v2/entreprises"></a>
                anchor: 'v2---donn√©es-de-r√©f√©rence-dune-entit√©---insee-'
                content: |+
                  L'API V.2 `/entreprise` de l'INSEE a √©t√© d√©coup√©e en plusieurs API diff√©rentes dans la V.3 :
                  - les donn√©es de r√©f√©rence de l'unit√© l√©gale tir√©es de l'Insee ;
                  - les donn√©es sur le si√®ge social de l'unit√© l√©gale sont s√©par√©es ;
                  - les mandataires socaux tir√©s d'Infogreffe font aussi l'objet d'une autre API.

                  La distinction entre les "diffusibles" et les "non-diffusibles" n'est plus faite par une option d'appel. Nous avons cr√©√© des API distinctes :

                  {:.fr-table}
                  | API V.2  | API V.3+ correspondantes |
                  | :--- | :--- |
                  | **API [Donn√©es de r√©f√©rence d'une entit√© - INSEE](https://v2.entreprise.api.gouv.fr/catalogue/#a-entreprises){:target="_blank"}<br> Sans** l'option d'appel des "non-diffusibles" |  |
                  | Donn√©es concernant les unit√©s l√©gales "diffusibles".  | API **Donn√©es unit√© l√©gale diffusible** <br> `../insee/sirene/unites_legales/diffusibles/{siren}`<br> [üìñ Fiche m√©tier](<%= endpoint_path(uid: 'insee/unites_legales_diffusibles') %>){:target="_blank"} <br> [üìü Swagger](<%= developers_openapi_path(anchor: 'tag/Informations-generales/paths/~1v3~1insee~1sirene~1unites_legales~1diffusibles~1{siren}/get') %>){:target="_blank"}<br> <br>Ces informations sont aussi disponibles depuis :<br> API **Donn√©es √©tablissement diffusible** <br> `../insee/sirene/etablissements/diffusibles/{siret}`<br> [üìñ Fiche m√©tier](<%= endpoint_path(uid: 'insee/etablissements_diffusibles') %>){:target="_blank"} <br> [üìü Swagger](<%= developers_openapi_path(anchor: 'tag/Informations-generales/paths/~1v3~1insee~1sirene~1etablissements~1diffusibles~1{siret}/get') %>){:target="_blank"}<br> <br> üéÅ *Nouvelle donn√©e disponible :* Sexe des personnes physiques.<br> <br> ‚ö†Ô∏è *Suppression du champ  `raison_sociale` pour les personnes physiques en V.3* : par abus de langage, on parle de raison sociale ou d√©nomination pour les personnes physiques, or leur nom d'entreprise correspond toujours au nom de famille et au pr√©nom, pr√©c√©d√©s ou suivis de la mention "entrepreneur individuel" ou "EI". En savoir plus sur [service-public.fr](https://entreprendre.service-public.fr/vosdroits/F23283/personnalisation/resultat){:target="_blank"}|
                  | Donn√©es concernant les mandataires sociaux de l'entreprise.   | API **Mandataires sociaux** <br> `../infogreffe/mandataires_sociaux/{siren}`<br> [üìñ Fiche m√©tier](<%= endpoint_path(uid: 'infogreffe/mandataires_sociaux') %>){:target="_blank"} <br> [üìü Swagger](<%= developers_openapi_path(anchor: 'tag/Informations-generales/paths/~1v3~1infogreffe~1rcs~1unites_legales~1{siren}~1mandataires_sociaux/get') %>){:target="_blank"}<br> <br>üéÅ *Nouvelle donn√©e disponible :* Lieu de naissance des mandataires sociaux.|
                  | Donn√©es concernant le si√®ge social d'une unit√© l√©gale "diffusible".  | API **Donn√©es si√®ge social diffusible** <br> `../insee/sirene/unites_legales/diffusibles/{siren}/siege`<br> [üìñ Fiche m√©tier](<%= endpoint_path(uid: 'insee/siege_social_diffusibles') %>){:target="_blank"} <br> [üìü Swagger](<%= developers_openapi_path(anchor: 'tag/Informations-generales/paths/~1v3~1insee~1sirene~1unites_legales~1diffusibles~1{siren}~1siege_social/get') %>){:target="_blank"}|
                  | Adresse du si√®ge social d¬¥une unit√© l√©gale "diffusible"  | API **Adresse √©tablissement diffusible** <br> `../insee/sirene/etablissements/diffusibles/{siret}/adresse`<br> [üìñ Fiche m√©tier](<%= endpoint_path(uid: 'adresse_etablissements_diffusibles') %>){:target="_blank"} <br> [üìü Swagger](<%= developers_openapi_path(anchor: 'tag/Informations-generales/paths/~1v3~1insee~1sirene~1etablissements~1diffusibles~1{siret}~1adresse/get') %>){:target="_blank"}|
                  | Num√©ro de TVA intracommunautaire | API **N¬∞TVA intracommunautaire fran√ßais** <br> `../european_commission/unites_legales/{siren}/numero_tva`<br> [üìñ Fiche m√©tier](<%= endpoint_path(uid: 'commission_europeenne/numero_tva') %>){:target="_blank"} <br> [üìü Swagger](<%= developers_openapi_path(anchor: 'tag/Informations-generales/paths/~1v3~1european_commission~1unites_legales~1{siren}~1numero_tva/get') %>){:target="_blank"}|
                  | **API [Donn√©es de r√©f√©rence d'une entit√© - INSEE](https://v2.entreprise.api.gouv.fr/catalogue/#a-entreprises){:target="_blank"} <br> Avec** l'option d'appel des "non-diffusibles"| |
                  | Donn√©es concernant toutes les unit√©s l√©gales, y compris les "non-diffusibles".   | API **Donn√©es unit√© l√©gale** <br> `../insee/sirene/unites_legales/{siren}`<br> [üìñ Fiche m√©tier](<%= endpoint_path(uid: 'insee/unites_legales') %>){:target="_blank"} <br> [üìü Swagger](<%= developers_openapi_path(anchor: 'tag/Informations-generales/paths/~1v3~1insee~1sirene~1unites_legales~1{siren}/get') %>){:target="_blank"}<br> <br>Ces informations sont aussi disponibles depuis l'API **Donn√©es √©tablissement** <br> `../insee/sirene/etablissements/{siret}`<br> [üìñ Fiche m√©tier](<%= endpoint_path(uid: 'insee/etablissements') %>){:target="_blank"} <br> [üìü Swagger](<%= developers_openapi_path(anchor: 'tag/Informations-generales/paths/~1v3~1insee~1sirene~1etablissements~1{siret}/get') %>){:target="_blank"} <br> <br> üéÅ *Nouvelle donn√©e disponible :* Sexe des personnes physiques.<br> <br> ‚ö†Ô∏è *Suppression du champ  `raison_sociale` pour les personnes physiques en V.3* : par abus de langage, on parle de raison sociale ou d√©nomination pour les personnes physiques, or leur nom d'entreprise correspond toujours au nom de famille et au pr√©nom, pr√©c√©d√©s ou suivis de la mention "entrepreneur individuel" ou "EI". En savoir plus sur [service-public.fr](https://entreprendre.service-public.fr/vosdroits/F23283/personnalisation/resultat){:target="_blank"}|
                  | Donn√©es concernant les mandataires sociaux de l'entreprise.   | API **Mandataires sociaux** <br> `../infogreffe/mandataires_sociaux/{siren}`<br> [üìñ Fiche m√©tier](<%= endpoint_path(uid: 'infogreffe/mandataires_sociaux') %>){:target="_blank"} <br> [üìü Swagger](<%= developers_openapi_path(anchor: 'tag/Informations-generales/paths/~1v3~1infogreffe~1rcs~1unites_legales~1{siren}~1mandataires_sociaux/get') %>){:target="_blank"}<br> <br>üéÅ *Nouvelle donn√©e disponible :* Lieu de naissance des mandataires sociaux.|
                  | Donn√©es concernant le si√®ge social d'une unit√© l√©gale, qu'elle soit "diffusible" ou non.  | API **Donn√©es si√®ge social** <br> `../insee/sirene/unites_legales/{siren}/siege`<br> [üìñ Fiche m√©tier](<%= endpoint_path(uid: 'insee/siege_social') %>){:target="_blank"} <br> [üìü Swagger](<%= developers_openapi_path(anchor: 'tag/Informations-generales/paths/~1v3~1insee~1sirene~1unites_legales~1{siren}~1siege_social/get') %>){:target="_blank"}|
                  | Adresse du si√®ge social d¬¥une unit√© l√©gale, qu¬¥elle soit "diffusible" ou non. | API **Adresse √©tablissement** <br> `../insee/sirene/etablissements/{siret}/adresse`<br> [üìñ Fiche m√©tier](<%= endpoint_path(uid: 'insee/adresse_etablissements') %>){:target="_blank"} <br> [üìü Swagger](<%= developers_openapi_path(anchor: 'tag/Informations-generales/paths/~1v3~1insee~1sirene~1etablissements~1{siret}~1adresse/get') %>){:target="_blank"}|
                  | Num√©ro de TVA intracommunautaire | API **N¬∞TVA intracommunautaire fran√ßais** <br> `../european_commission/unites_legales/{siren}/numero_tva`<br> [üìñ Fiche m√©tier](<%= endpoint_path(uid: 'commission_europeenne/numero_tva') %>){:target="_blank"} <br> [üìü Swagger](<%= developers_openapi_path(anchor: 'tag/Informations-generales/paths/~1v3~1european_commission~1unites_legales~1{siren}~1numero_tva/get') %>){:target="_blank"}|


                  {:.fr-highlight}
                  > **Le champ bool√©en `dirigeant` des mandataires sociaux retir√© en V.3 car non-effectif**
                  > En V.2, parmi les informations relatives aux mandataires sociaux, API&nbsp;Entreprise semblait transmettre une information sur le statut dirigeant ou non du mandataire social. Cette information n'√©tait pas effective car toujours √† `true`. Nous avons donc retir√© ce champ inutile de l'[API V.3 Mandataires sociaux](<%= endpoint_path(uid: 'infogreffe/mandataires_sociaux') %>){:target="_blank"}.
                  > Pour conna√Ætre les r√¥les des mandataires sociaux, vous pouvez vous aider du champ `fonction` qui renvoie des valeurs telles que "PRESIDENT", "DIRECTEUR GENERALE".

                  <details class="fr-details">
                    <summary>
                     **Table de correspondance de tous les champs en V.2 et leurs √©quivalents en V.3**
                    </summary>

                  {:.fr-table.fr-table--very-large}
                  | [API V.2. Donn√©es de r√©f√©rence d'une entit√©](http://v2.entreprise.api.gouv.fr/entreprise.api.gouv.fr/catalogue/#a-entreprises){:target="_blank"}<br/><br/>Appel√© avec SIREN | API V.3. Donn√©es √©tablissement<br/><br/>Appel√© avec SIRET  | API V.3. Mandataires sociaux - Infogreffe<br/><br/>Appel√© avec SIREN | API V.3. Donn√©es si√®ge social<br/><br/>Appel√© avec SIREN | API V.3. Donn√©es unit√©s l√©gales<br/><br/>Appel√© avec SIREN | API V.3. Adresse √©tablissement<br/><br/>Appel√© avec SIRET | API V.3. Extrait RCS - Infogreffe<br/><br/>Appel√© avec SIREN | API V.3. Num√©ro de TVA Intra<br/><br/>Appel√© avec SIREN |
                  |---|---|---|---|---|---|---|---|
                  | `"entreprise": {` | `"unite_legale"` |  |  | `"unite_legale"` |  |  |  |
                  |   `"siren": "418166096",` | ‚öôÔ∏è Cette information va √™tre prochainement remise en V.3. | ‚öôÔ∏è Cette information va √™tre prochainement remise en V.3. |  |  |  | ‚öôÔ∏è Cette information va √™tre prochainement remise en V.3. | ‚öôÔ∏è Cette information va √™tre prochainement remise en V.3. |
                  |   `"capital_social": 509525,` |  |  |  |  |  | `"capital": {` |  |
                  |  |  |  |  |  |  |    `"montant": "509525",` |  |
                  |  |  |  |  |  |  |    `"devise": "EUROS",` |  |
                  |  |  |  |  |  |  |    `"code_devise": "EUR"},` |  |
                  |   `"numero_tva_intracommunautaire": "FR16418166096",` |  |  |  |  |  |  | üéÅ `"tva_number": "FR48672039971"` - Cette donn√©e est certifi√©e contrairement √† celle de la V.2 |
                  |   `"forme_juridique": "SA √† directoire (s.a.i.)",` | `"libelle": "Service central d'un minist√®re"` dans `"forme_juridique"` |  |  | `"libelle": "Service central d'un minist√®re"` dans `"forme_juridique"` |  |  |  |
                  |   `"forme_juridique_code": "5699",` | `"code": "7120"` dans `"forme_juridique"` |  |  | `"code": "7120"` dans `"forme_juridique"` |  |  |  |
                  |   `"nom_commercial": "OCTO-TECHNOLOGY",` |  |  |  |  |  | `"nom_commercial": "DECATHLON",` |  |
                  |   `"procedure_collective": false,` | ‚ùå Supprim√© : Cette information n'a jamais fonctionn√© en V.2. Nous n'avons pas l'information et avons donc supprim√© le champ en V.3 |  |  |  |  |  |  |
                  |   `"enseigne": null,` | `"enseigne": "Coiff Land, CoiffureLand",` |  |  |  |  |  |  |
                  |   `"naf_entreprise": "6202A",` | `"code": "8411Z"` |  |  | `"code": "8411Z"` |  |  |  |
                  |   `"libelle_naf_entreprise": "Conseil en syst√®mes et logiciels informatiques",` | `"libelle": "Administration publique g√©n√©rale"` |  |  | `"libelle": "Administration publique g√©n√©rale"` |  |  |  |
                  |  | üéÅ `"nomenclature" : "NAFRev2"` -  Nouvelle donn√©e qui pr√©cise la nomenclature |  |  | üéÅ `"nomenclature" : "NAFRev2"` -  Nouvelle donn√©e qui pr√©cise la nomenclature |  |  |  |
                  |   `"raison_sociale": "OCTO-TECHNOLOGY"`, | `"raison_sociale": "DIRECTION INTERMINISTERIELLE DU NUMERIQUE"` |  |  | `"raison_sociale": "DIRECTION INTERMINISTERIELLE DU NUMERIQUE"` |  |  |  |
                  |   `"siret_siege_social": "41816609600051",` | `"siret_siege_social": "13002526500013"` |  |  | `"siret_siege_social": "13002526500013"` |  |  |  |
                  |   `"code_effectif_entreprise": "31",` | ‚ùå Supprim√© car en double dans la payload |  |  | ‚ùå Supprim√© car en double dans la payload |  |  |  |
                  |   `"date_creation": 891381600,` | `"date_creation": 1634103818` |  |  | `"date_creation": 1634103818` |  |  |  |
                  |   `"nom": null,` | `"nom_naissance": "Dubois"` |  |  | `"nom_naissance": "Dubois"` |  |  |  |
                  |  | üéÅ `"nom_usage": "Dupont"` -  Nouvelle donn√©e  |  |  | üéÅ `"nom_usage": "Dupont"` -  Nouvelle donn√©e  |  |  |  |
                  |   `"prenom": null,` | `"prenom_usuel": "Jean"` |  |  | `"prenom_usuel": "Jean"` |  |  |  |
                  |  | üéÅ  `"prenom_1": "Jean"` -  Nouvelle donn√©e |  |  | üéÅ  `"prenom_1": "Jean"` -  Nouvelle donn√©e |  |  |  |
                  |  | üéÅ  `"prenom_2": "Jean"` -  Nouvelle donn√©e |  |  | üéÅ  `"prenom_2": "Jean"` -  Nouvelle donn√©e |  |  |  |
                  |  | üéÅ  `"prenom_3": "Jean"` -  Nouvelle donn√©e |  |  | üéÅ  `"prenom_3": "Jean"` -  Nouvelle donn√©e |  |  |  |
                  |  | üéÅ  `"prenom_4": "Jean"` -  Nouvelle donn√©e |  |  | üéÅ  `"prenom_4": "Jean"` -  Nouvelle donn√©e |  |  |  |
                  |   `"date_radiation": null,` |   `"date_radiation": null,` |  |  |   `"date_radiation": null,` |  |  |  |
                  |   `"categorie_entreprise": "PME",` | `"categorie_entreprise": "GE"` |  |  | `"categorie_entreprise": "GE"` |  |  |  |
                  |   `"tranche_effectif_salarie_entreprise": {` | `"tranche_effectif_salarie"` |  |  | `"tranche_effectif_salarie"` |  |  |  |
                  |     `"de": 200,` | `"de": 2000` |  |  | `"de": 2000` |  |  |  |
                  |     `"a": 249,` | `"a": 4999` |  |  | `"a": 4999` |  |  |  |
                  |     `"code": "31",` | `"code": "51"` |  |  | `"code": "51"` |  |  |  |
                  |     `"date_reference": "2014",` | `"date_reference": "2016"` |  |  | `"date_reference": "2016"` |  |  |  |
                  |     `"intitule": "200 √† 249 salari√©s"` | `"intitule": "2 000 √† 4 999 salari√©s"` |  |  | `"intitule": "2 000 √† 4 999 salari√©s"` |  |  |  |
                  |   `"mandataires_sociaux": [` |  |  |  |  |  |  |  |
                  |     `"nom": "Henri",` |  | `"nom": "GAUQUELIN"` |  |  |  | `"nom": "GAUQUELIN"` |  |
                  |     `"prenom": "Martin",` |  | `"prenom": "ARNAUD"` |  |  |  |  `"prenom": "Martin",`|  |
                  |     `"fonction": "Pr√©sident du Directoire",` |  | `"fonction": "PRESIDENT"` |  |  |  | `"fonction": "Pr√©sident du Directoire",` |  |
                  |     `"dirigeant": true,` |  | ‚ùå Supprim√© car ce champ n'apportait aucune information : juridiquement tout mandataire est un dirigeant, le champ √©tait donc toujours √† true |  |  |  | ‚ùå Supprim√© car ce champ n'apportait aucune information : juridiquement tout mandataire est un dirigeant, le champ √©tait donc toujours √† true |  |
                  |     `"date_naissance": "1965-01-27",` |  | `"date_naissance": "1969-08-24",` |  |  |  | `"date_naissance": "1965-01",` <br/> ‚ö†Ô∏è Uniquement le mois et l'ann√©e pour cette API aux donn√©es ouvertes  |  |
                  |     `"date_naissance_timestamp": -155523600,` |  | `"date_naissance_timestamp": -11235600,` |  |  |  | ‚ùå car le jour de naissance n'est pas donn√© |  |
                  |     `"raison_sociale": "",` |  | ‚ùå Supprim√©. Il n'y a pas de raison sociale pour les p. physiques. Pour obtenir le nom de l'entreprise, vous pouvez concat√©ner le nom de famille, le pr√©nom, avec un espace entre les deux, pr√©c√©d√©s ou suivis de la mention "entrepreneur individuel" ou "EI".|  |  |  |  |  |
                  |     `"identifiant": "",` |  | ‚ùå Supprim√© pour les personnes physiques car toujours vide |  |  |  |  |  |
                  |     `"type": "PP"` |  | `"type": "personne_physique"` |  |  |  |  |  |
                  |  |  | üéÅ Nouveaux champs :<br/>-  `"lieu_naissance": "FLERS",`<br/>- `"pays_naissance": "FRANCE",`<br/>-  `"code_pays_naissance": "FR",`<br/>-  `"nationalite": "FRANCAISE",`<br/>-  `"code_nationalite": "FR"`  |
                  |  |  |  |  |  |
                  |     `"nom": "",` |  | ‚ùå  Supprim√© pour les personnes morales car toujours vide |  |  |  | ‚ùå  Supprim√© pour les personnes morales car toujours vide |  |
                  |     `"prenom": "",` |  | ‚ùå  Supprim√© pour les personnes morales car toujours vide |  |  |  | ‚ùå  Supprim√© pour les personnes morales car toujours vide |  |
                  |     `"fonction": "COMMISSAIRE AUX COMPTES SUPPLEANT",` |  | `"fonction": "COMMISSAIRE AUX COMPTES TITULAIRE",` |  |  |  | `"fonction": "COMMISSAIRE AUX COMPTES SUPPLEANT",` |  |
                  |     `"dirigeant": true,` |  | ‚ùå Supprim√© car ce champ n'apportait aucune information : juridiquement tout mandataire est un dirigeant, le champ √©tait donc toujours √† true |  |  |  | ‚ùå Supprim√© car ce champ n'apportait aucune information : juridiquement tout mandataire est un dirigeant, le champ √©tait donc toujours √† true |  |
                  |     `"date_naissance": "",` |  | ‚ùå  Supprim√© pour les personnes morales car toujours vide |  |  |  |  ‚ùå  Supprim√© pour les personnes morales car toujours vide |  |
                  |     `"date_naissance_timestamp": 0,` |  | ‚ùå  Supprim√© pour les personnes morales car toujours vide |  |  |  | ‚ùå  Supprim√© pour les personnes morales car toujours vide |  |
                  |     `"raison_sociale": "BCRH & ASSOCIES - SOCIETE A RESPONSABILITE LIMITEE A ASSOCIE UNIQUE",` |  | `"raison_sociale": "MAZARS - SOCIETE ANONYME A DIRECTOIRE ET CONSEIL DE SURVEILLANCE"` |  |  |  | `"raison_sociale": "BCRH & ASSOCIES - SOCIETE A RESPONSABILITE LIMITEE A ASSOCIE UNIQUE",` |  |
                  |     `"identifiant": "490092574",` |  | `"numero_identification": "784824153"` |  |  |  | `"numero_identification": "784824153"` |  |
                  |     `"type": "PM"` |  | `"type": "personne_morale"` |  |  |  | `"type": "personne_morale"` |  |
                  |   `"etat_administratif": {` |  |  |  |  |  |  |  |
                  |     `"value": "C",` | `"etat_administratif": "A",` |  |  |  |  |  |  |
                  |     `"date_cessation": 1315173600` | `"date_cessation": 1634133818,` |  |  |  |  |  |  |
                  |   `"diffusable_commercialement": true` |  `"diffusable_commercialement": true` |  |  |  |  |  |  |
                  | `"etablissement_siege": {` |  |  |  |  |  |  |  |
                  |   `"siege_social": true,` |  |  | `"siege_social": true` |  |  |  |  |
                  |   `"siret": "41816609600051",` |  |  | ‚öôÔ∏è Cette information va √™tre prochainement remise en V.3. |  | ‚öôÔ∏è Cette information va √™tre prochainement remise en V.3. |  |  |
                  |   `"naf": "6202A",` |  |  | `"code": "8411Z"` dans `"activite_principale"` |  |  |  |  |
                  |   `"libelle_naf": "Conseil en syst√®mes et logiciels informatiques",` |  |  | `"libelle": "Administration publique g√©n√©rale" dans "activite_principale"` |  |  |  |  |
                  |  |  |  | üéÅ `"nomenclature" : "NAFRev2"` -  Nouvelle donn√©e qui pr√©cise la nomenclature |  |  |  |  |
                  |   `"date_mise_a_jour": 1449183600,` |  |  |  |  |  |  |  |
                  |   `"tranche_effectif_salarie_etablissement": {` |  |  | `"tranche_effectif_salarie"` |  |  |  |  |
                  |     `"de": 200,` |  |  | `"de": 2000` |  |  |  |  |
                  |     `"a": 249,` |  |  | `"de": 2000` |  |  |  |  |
                  |     `"code": "31",` |  |  | `"code": "51"` |  |  |  |  |
                  |     `"date_reference": "2014",` |  |  | `"date_reference": "2016"` |  |  |  |  |
                  |     `"intitule": "200 √† 249 salari√©s"` |  |  | `"intitule": "2 000 √† 4 999 salari√©s"` |  |  |  |  |
                  |   }, |  |  |  |  |  |  |  |
                  |  `"date_creation_etablissement": 1108594800,` |  |  | `"date_creation": 1634103818` |  |  |  |  |
                  |   `"enseigne": null,` |  |  | `"enseigne": "Coiff Land, CoiffureLand",` |  |  |  |  |
                  |   `"region_implantation": {` |  |  | ‚ùå Supprim√©, cette information, retrouvable autrement, ralentissait l'API. Nous l'avons supprim√© en V.3. |  |  |  |  |
                  |     `"code": "11",` |  |  | ‚ùå Supprim√©, cette information, retrouvable autrement, ralentissait l'API. Nous l'avons supprim√© en V.3. |  |  |  |  |
                  |     `"value": "√éle-de-France"` |  |  | ‚ùå Supprim√©, cette information, retrouvable autrement, ralentissait l'API. Nous l'avons supprim√© en V.3. |  |  |  |  |
                  |   }, |  |  |  |  |  |  |  |
                  |   `"commune_implantation": {` |  |  |  |  |  |  |  |
                  |     `"code": "75108",` |  |  | ‚ùå Supprim√© car en double dans la payload |  |  |  |  |
                  |     `"value": "PARIS 8"` |  |  | ‚ùå Supprim√© car en double dans la payload |  |  |  |  |
                  |   `"pays_implantation": {` |  |  |  |  |  |  |  |
                  |     `"code": null,` |  |  | Remplac√© par `"code_pays_etranger": "99132"` |  |  |  |  |
                  |     `"value": null` |  |  | Remplac√© par `"libelle_pays_etranger": "ROYAUME-UNI"` |  |  |  |  |
                  |   `"diffusable_commercialement": true,` |  |  | `"diffusable_commercialement": true,` |  |  |  |  |
                  |   `"adresse": {` |  |  |  |  |  |  |  |
                  |     `"l1": "OCTO TECHNOLOGY",` |  |  | `"l1": "ipsum"` dans `"acheminement_postal"`|  | `"l1": "ipsum"` dans `"acheminement_postal"` |  |  |
                  |     `"l2": null,` |  |  | `"l2": "ipsum"` dans `"acheminement_postal"` |  | `"l2": "ipsum"` dans `"acheminement_postal"` |  |  |
                  |     `"l3": null,` |  |  | `"l3": "ipsum"` dans `"acheminement_postal"` |  | `"l3": "ipsum"` dans `"acheminement_postal"` |  |  |
                  |     `"l4": "50 AVENUE DES CHAMPS ELYSEES",` |  |  | `"l4": "ipsum"` dans `"acheminement_postal"` |  | `"l4": "ipsum"` dans `"acheminement_postal"` |  |  |
                  |     `"l5": null,` |  |  | `"l5": "ipsum"` dans `"acheminement_postal"` |  | `"l5": "ipsum"` dans `"acheminement_postal"` |  |  |
                  |     `"l6": "75008 PARIS",` |  |  | `"l6": "ipsum"` dans `"acheminement_postal"` |  | `"l6": "ipsum"` dans `"acheminement_postal"` |  |  |
                  |     `"l7": "FRANCE",` |  |  | `"l7": "ipsum"` dans `"acheminement_postal"` |  | `"l7": "ipsum"` dans `"acheminement_postal"` |  |  |
                  |     `"numero_voie": "50",` |  |  | `"numero_voie": "22",` |  | `"numero_voie": "22",` |  |  |
                  |  |  |  | `"indice_repetition_voie": "lorem"` - Donn√©e d√©sormais s√©par√©e du num√©ro de voie |  | üéÅ  `"indice_repetition_voie": "lorem"` - Nouvelle donn√©e |  |  |
                  |     `"type_voie": "AV",` |  |  | `"type_voie": "RUE",` |  | `"type_voie": "RUE",` |  |  |
                  |     `"nom_voie": "DES CHAMPS ELYSEES",` |  |  | `"libelle_voie": "ipsum",` |  | `"libelle_voie": "ipsum",` |  |  |
                  |     `"complement_adresse": null,` |  |  | `"complement_adresse": "ZAE SAINT GUENAULT",` |  |`"complement_adresse": "ZAE SAINT GUENAULT",` |  |  |
                  |     `"code_postal": "75008",` |  |  | `"code_postal": "75016",` |  | `"code_postal": "75016",` |  |  |
                  |     `"localite": "PARIS 8",` |  |  | `"libelle_commune": "PARIS 12"` |  | `"libelle_commune": "PARIS 12"` |  |  |
                  |     `"code_insee_localite": "75108",` |  |  | `"code_commune": "75112"` |  | `"code_commune": "75112"` |  |  |
                  |     `"cedex": null` |  |  | `"code_cedex": "ipsum",` |  | `"code_cedex": "ipsum",` |  |  |
                  |  |  |  | üéÅ `"libelle_cedex": "PARIS CEDEX 12"` - Nouvelle donn√©e  |  | üéÅ `"libelle_cedex": "PARIS CEDEX 12"` - Nouvelle donn√©e  |  |  |
                  |  |  |  | üéÅ `"distribution_speciale": "ipsum"` - Nouvelle donn√©e |  | üéÅ `"distribution_speciale": "ipsum"` - Nouvelle donn√©e |  |  |
                  |   }, |  |  |  |  |  |  |  |
                  |   `"etat_administratif": {` |  |  |  |  |  |  |  |
                  |     `"value": "F",` |  |  | `"etat_administratif": "A"` |  |  |  |  |
                  |     `"date_fermeture": 1315173600` |  |  | `"date_fermeture": 1634133818` |  |  |  |  |
                  |   `"gateway_error": false` |  |  | ‚ùå Supprim√©, information technique API Entreprise complexe et peu utile |  |  |  |  |

                  </details>

                  <div class="fr-download fr-mt-4w fr-mb-1v fr-ml-2w">
                    <p>
                      <a href="/files/correspondance_champs_v2_entreprises.pdf" download class="fr-download__link">T√©l√©charger le tableau PDF de correspondance des champs de l'API V2 Entreprises Insee
                        <span class="fr-download__detail">PDF ‚Äì 94 ko</span>
                      </a>
                    </p>
                  </div>

                  <div class="fr-download fr-mt-1v fr-ml-2w">
                    <p>
                      <a href="/files/correspondance_champs_v2_v3_insee.xlsx" download class="fr-download__link">T√©l√©charger le tableur de correspondance des champs des API V2 Entreprises et Etablissements Insee
                        <span class="fr-download__detail">XLSX ‚Äì 22 ko</span>
                      </a>
                    </p>
                  </div>

              - title: V.2 - Donn√©es de r√©f√©rence d'un √©tablissement - INSEE<a name="v2/etablissements"></a>
                anchor: 'v2---donn√©es-de-r√©f√©rence-dun-√©tablissement---insee-'
                content: |+
                  L'API V.2 `/etablissement` de l'INSEE devient l'**API centrale des donn√©es Insee en V.3**. √Ä partir du SIRET de l'√©tablissement, vous r√©cup√©rez les donn√©es de l'√©tablissement, dont son adresse postale, ainsi que les donn√©es de l'unit√© l√©gale qui le concerne.

                  La distinction entre les "diffusibles" et les "non-diffusibles" n'est plus faite par une option d'appel. Nous avons cr√©√© des API distinctes :

                  {:.fr-table}
                  | API V.2  | API V.3+ correspondantes |
                  | :--- | :--- |
                  | **API [Donn√©es de r√©f√©rence d'un √©tablissement - INSEE](https://v2.entreprise.api.gouv.fr/catalogue/#a-etablissements){:target="_blank"}** | |
                  |**Sans** l'option d'appel des "non-diffusibles"  | API **Donn√©es √©tablissement diffusible** <br> `../insee/sirene/etablissements/diffusibles/{siret}`<br> [üìñ Fiche m√©tier](<%= endpoint_path(uid: 'insee/etablissements_diffusibles') %>){:target="_blank"} <br> [üìü Swagger](<%= developers_openapi_path(anchor: 'tag/Informations-generales/paths/~1v3~1insee~1sirene~1etablissements~1diffusibles~1{siret}/get') %>){:target="_blank"}<br> <br> üß© Cette API d√©livre en plus des informations sur l'unit√© l√©gale de l'√©tablissement. |
                  |**Avec** l'option d'appel des "non-diffusibles"  | API **Donn√©es √©tablissement** <br> `../insee/sirene/etablissements/{siret}`<br> [üìñ Fiche m√©tier](<%= endpoint_path(uid: 'insee/etablissements') %>){:target="_blank"} <br> [üìü Swagger](<%= developers_openapi_path(anchor: 'tag/Informations-generales/paths/~1v3~1insee~1sirene~1etablissements~1{siret}/get') %>){:target="_blank"} <br> <br> üß© Cette API d√©livre en plus des informations sur l'unit√© l√©gale de l'√©tablissement.|

                   <details class="fr-details">
                    <summary>
                     **Table de correspondance de tous les champs en V.2 et leurs √©quivalents en V.3**
                    </summary>

                    {:.fr-table.fr-table--bordered.fr-table--large}
                  | **[API V.2. Donn√©es de r√©f√©rence d'un √©tablissement](http://v2.entreprise.api.gouv.fr/entreprise.api.gouv.fr/catalogue/#a-etablissements){:target="_blank"}** <br/><br/>_Appel√© avec SIRET_ | **API V.3. Donn√©es √©tablissement** <br/><br/>_Appel√© avec SIRET_ | **API V.3. Donn√©es si√®ge social** <br/><br/>_Appel√© avec SIREN_ | **API V.3. Adresse √©tablissement** <br/><br/>_Appel√© avec SIRET_ |
                  |---|---|---|---|
                  | **`"etablissement": {`** |  |  |  |
                  | **`"siege_social": true,`** | `"siege_social": false` | `"siege_social": true` |  |
                  | **`"siret": "41816609600051",`** | ‚öôÔ∏è Cette information va √™tre prochainement remise en V.3. | ‚öôÔ∏è Cette information va √™tre prochainement remise en V.3. | ‚öôÔ∏è Cette information va √™tre prochainement remise en V.3. |
                  | **`"naf": "6202A",`** | `"code": "8411Z"` dans `"activite_principale"` | `"code": "8411Z"` dans `"activite_principale"` |  |
                  | **`"libelle_naf": "Conseil en syst√®mes et logiciels informatiques"`,** | `"libelle": "Administration publique g√©n√©rale"` dans `"activite_principale"` | `"libelle": "Administration publique g√©n√©rale"` dans `"activite_principale"` |  |
                  |  | üéÅ `"nomenclature" : "NAFRev2"` -  Nouvelle donn√©e qui pr√©cise la nomenclature | üéÅ `"nomenclature" : "NAFRev2"` -  Nouvelle donn√©e qui pr√©cise la nomenclature |  |
                  | **`"date_mise_a_jour": "1449183600,"`** |  |  |  |
                  | **`"tranche_effectif_salarie_etablissement": {`** | `"tranche_effectif_salarie"` | `"tranche_effectif_salarie"` |  |
                  | **`"de": 200,`** | `"de": 2000` | `"de": 2000` |  |
                  | **`"a": 249,`** | `"de": 2000` | `"de": 2000` |  |
                  | **`"code": "31",`** | `"code": "51"` | `"code": "51"` |  |
                  | **`"date_reference": "2014",`** | `"date_reference": "2016"` | `"date_reference": "2016"` |  |
                  | **`"intitule": "200 √† 249 salari√©s"`** | `"intitule": "2 000 √† 4 999 salari√©s"` | `"intitule": "2 000 √† 4 999 salari√©s"` |  |
                  | **`"date_creation_etablissement": 1108594800,`** | `"date_creation": 1634103818"` | `"date_creation": 1634103818` |  |
                  | **`"region_implantation": {`** | ‚ùå Supprim√©, cette information, retrouvable autrement, ralentissait l'API. Nous l'avons supprim√© en V.3. | ‚ùå Supprim√©, cette information, retrouvable autrement, ralentissait l'API. Nous l'avons supprim√© en V.3. |  |
                  | **`"code": "11",`** | ‚ùå Supprim√©, cette information, retrouvable autrement, ralentissait l'API. Nous l'avons supprim√© en V.3. | ‚ùå Supprim√©, cette information, retrouvable autrement, ralentissait l'API. Nous l'avons supprim√© en V.3. |  |
                  | **`"value": "√éle-de-France"`** | ‚ùå Supprim√©, cette information, retrouvable autrement, ralentissait l'API. Nous l'avons supprim√© en V.3. | ‚ùå Supprim√©, cette information, retrouvable autrement, ralentissait l'API. Nous l'avons supprim√© en V.3. |  |
                  | **`"commune_implantation": {`** |  |  |  |
                  | **`"code": "75108",`** | ‚ùå Supprim√© car en double dans la payload | ‚ùå Supprim√© car en double dans la payload |  |
                  | **`"value": "PARIS 8"`** | ‚ùå Supprim√© car en double dans la payload | ‚ùå Supprim√© car en double dans la payload |  |
                  | **`"pays_implantation": {`** |  |  |  |
                  | **`"code": "FR",`** | Remplac√© par `"code_pays_etranger": "99132"` | Remplac√© par `"code_pays_etranger": "99132"` |  |
                  | **`"value": "FRANCE"`** | Remplac√© par `"libelle_pays_etranger": "ROYAUME-UNI"` | Remplac√© par `"libelle_pays_etranger": "ROYAUME-UNI"` |  |
                  | **`"diffusable_commercialement": true,`** | `"diffusable_commercialement": true,` | `"diffusable_commercialement": true,` |  |
                  | **`"enseigne": null,`** | `"enseigne": "Coiff Land, CoiffureLand",` | `"enseigne": "Coiff Land, CoiffureLand",` |  |
                  | **`"adresse": {`** |  |  |  |
                  | **`"l1": "OCTO TECHNOLOGY",`** | `"l1": "ipsum"` dans `"acheminement_postal"` | `"l1": "ipsum"` dans `"acheminement_postal"` | `"l1": "ipsum"` dans `"acheminement_postal"` |
                  | **`"l2": null,`** | `"l2": "ipsum"` dans `"acheminement_postal"` | `"l2": "ipsum"` dans `"acheminement_postal"` | `"l2": "ipsum"` dans `"acheminement_postal"` |
                  | **`"l3": null,`** | `"l3": "ipsum"` dans `"acheminement_postal"` | `"l3": "ipsum"` dans `"acheminement_postal"` | `"l3": "ipsum"` dans `"acheminement_postal"` |
                  | **`"l4": "50 AVENUE DES CHAMPS ELYSEES",`** | `"l4": "ipsum"` dans `"acheminement_postal"` | `"l4": "ipsum"` dans `"acheminement_postal"` | `"l4": "ipsum"` dans `"acheminement_postal"` |
                  | **`"l5": null,`** | `"l5": "ipsum"` dans `"acheminement_postal"` | `"l5": "ipsum"` dans `"acheminement_postal"` | `"l5": "ipsum"` dans `"acheminement_postal"` |
                  | **`"l6": "75008 PARIS",`** | `"l6": "ipsum"` dans `"acheminement_postal"` | `"l6": "ipsum"` dans `"acheminement_postal"` | `"l6": "ipsum"` dans `"acheminement_postal"` |
                  | **`"l7": "FRANCE",`** | `"l7": "ipsum"` dans `"acheminement_postal"` | `"l7": "ipsum"` dans `"acheminement_postal"` | `"l7": "ipsum"` dans `"acheminement_postal"` |
                  | **`"numero_voie": "50",`** | `"numero_voie": "22",` | `"numero_voie": "22",` | `"numero_voie": "22",` |
                  |  | üéÅ `"indice_repetition_voie": "lorem"` - Nouvelle donn√©e | üéÅ `"indice_repetition_voie": "lorem"` - Nouvelle donn√©e | üéÅ `"indice_repetition_voie": "lorem"` - Nouvelle donn√©e |
                  | **`"type_voie": "AV",`** | `"type_voie": "RUE",` | `"type_voie": "RUE",`| `"type_voie": "RUE",` |
                  | **`"nom_voie": "DES CHAMPS ELYSEES",`** | `"libelle_voie": "ipsum",` | `"libelle_voie": "ipsum",` | `"libelle_voie": "ipsum",` |
                  | **`"complement_adresse": null,`** | `"complement_adresse": "ZAE SAINT GUENAULT",` | `"complement_adresse": "ZAE SAINT GUENAULT",` | `"complement_adresse": "ZAE SAINT GUENAULT",` |
                  | **`"code_postal": "75008",`** | `"code_postal": "75016",` | `"code_postal": "75016",` | `"code_postal": "75016",` |
                  | **`"localite": "PARIS 8",`** | `"libelle_commune": "PARIS 12"` | `"libelle_commune": "PARIS 12"` | `"libelle_commune": "PARIS 12"` |
                  | **`"code_insee_localite": "75108",`** | `"code_commune": "75112"` | ""code_commune": "75112"" | ""code_commune": "75112"" |
                  | **`"cedex": null"`** | `"code_cedex": "ipsum",` | `"code_cedex": "ipsum",` | `"code_cedex": "ipsum",` |
                  | | üéÅ `"libelle_cedex": "PARIS CEDEX 12"` - Nouvelle donn√©e | üéÅ `"libelle_cedex": "PARIS CEDEX 12"` - Nouvelle donn√©e | üéÅ `"libelle_cedex": "PARIS CEDEX 12"` - Nouvelle donn√©e |
                  | | üéÅ `"distribution_speciale": "ipsum"` - Nouvelle donn√©e | üéÅ `"distribution_speciale": "ipsum"` - Nouvelle donn√©e | üéÅ `"distribution_speciale": "ipsum"` - Nouvelle donn√©e |
                  | **`"etat_administratif": {`** |  |  |  |
                  | **`"value": "F",`** | `"etat_administratif": "A"` | `"etat_administratif": "A"` |  |
                  | **`"date_fermeture": 1315173600"`** | `"date_fermeture": 1634133818"` | `"date_fermeture": 1634133818"` |  |
                  | **`"gateway_error": false"`** | ‚ùå Supprim√©, information technique API Entreprise complexe et peu utile | ‚ùå Supprim√©, information technique API Entreprise complexe et peu utile" |  |

                  </details>


                  <div class="fr-download fr-mt-4w fr-mb-1v fr-ml-2w">
                    <p>
                      <a href="/files/correspondance_champs_v2_etablissements.pdf" download class="fr-download__link">T√©l√©charger le tableau PDF de correspondance des champs de l'API V2 √âtablissements Insee
                        <span class="fr-download__detail">PDF ‚Äì 75 ko</span>
                      </a>
                    </p>
                  </div>

                  <div class="fr-download fr-mt-1v fr-ml-2w">
                    <p>
                      <a href="/files/correspondance_champs_v2_v3_insee.xlsx" download class="fr-download__link">T√©l√©charger le tableur de correspondance des champs des API V2 Entreprises et Etablissements Insee
                        <span class="fr-download__detail">XLSX ‚Äì 22 ko</span>
                      </a>
                    </p>
                  </div>

              - title: V.2 - Extrait RCS - Infogreffe <a name="v2/extrait_rcs"></a>
                anchor: 'v2---extrait-rcs---infogreffe-'
                content: |+
                  {:.fr-table}
                  | API V.2  | API V.3+ correspondante |
                  | :--- | :--- |
                  | **API [Extrait RCS - Infogreffe](https://v2.entreprise.api.gouv.fr/catalogue/#a-extraits_rcs_infogreffe){:target="_blank"}** | API **Extrait RCS** <br> `../infogreffe/rcs/unites_legales/{siren}/extrait_kbis`<br> [üìñ Fiche m√©tier](<%= endpoint_path(uid: 'infogreffe/rcs/extrait') %>){:target="_blank"} <br> [üìü Swagger](<%= developers_openapi_path(anchor: 'tag/Informations-generales/paths/~1v3~1infogreffe~1rcs~1unites_legales~1{siren}~1extrait_kbis/get') %>){:target="_blank"} |


              - title: V.2 - Informations d√©claratives d'une association - Minist√®re de l'Int√©rieur <a name="v2/associations"></a>
                anchor: 'v2---informations-d√©claratives-dune-association---minist√®re-de-lint√©rieur-'
                content: |+
                  La migration V.3 introduit de nouvelles donn√©es sur les associations. Par cons√©quent, en migrant, vous trouverez deux nouvelles API :
                  - Une **API en open data**, d√©livrant le m√™me type d'informations que celles donn√©es par l'API V.2 donn√©es RNA d'une association et l'API V.2 Divers documents d'une associations.
                  - üéÅ Une **API d√©livrant de nouvelles donn√©es** : des informations prot√©g√©es uniquement accessibles aux agents publics habilit√©s. Il vous faudra effectuer une demande d'habilitation pour acc√©der √† cette API. Pour √©largir votre p√©rim√®tre des API accessibles, consulter cette [rubrique de la FAQ](https://entreprise.api.gouv.fr/faq#comment-elargir-le-perimetre-des-api-disponibles-avec-mon-jeton-obtenir-de-nouvelles-donnees).

                  {:.fr-table}
                  | API V.2  | API V.3+ correspondante |
                  | :--- | :--- |
                  | **API [Informations d√©claratives d‚Äôune association - Minist√®re de l'Int√©rieur](https://v2.entreprise.api.gouv.fr/catalogue/#a-associations){:target="_blank"}** | API **Donn√©es association en open data - DJEPVA** <br> `v4/djepva/api-association/associations/open_data/{siren_or_rna}`<br> [üìñ Fiche m√©tier](<%= endpoint_path(uid: 'djepva/associations_open_data') %>){:target="_blank"} <br> [üìü Swagger](<%= developers_openapi_path(anchor: 'tag/Informations-generales/paths/~1v4~1djepva~1api-association~1associations~1open_data~1{siren_or_rna}/get') %>){:target="_blank"}<br><br>**üéÅ Plus de donn√©es disponibles** avec la nouvelle [API Donn√©es associations - DJEPVA](<%= endpoint_path(uid: 'djepva/associations') %>){:target="_blank"}.  |

              - title: V.2 - Divers documents d'une association - Minist√®re de l'Int√©rieur <a name="v2/doc-associations"></a>
                anchor: 'v2---divers-documents-dune-association---minist√®re-de-lint√©rieur-'
                content: |+
                  La migration V.3 introduit de nouvelles donn√©es sur les associations. Par cons√©quent, en migrant, vous trouverez deux nouvelles API :
                  - Une **API en open data**, d√©livrant le m√™me type d'informations que celles donn√©es par l'API V.2 donn√©es RNA d'une association et l'API V.2 Divers documents d'une associations.
                  - üéÅ Une **API d√©livrant de nouvelles donn√©es** : des informations prot√©g√©es uniquement accessibles aux agents publics habilit√©s. Il vous faudra effectuer une demande d'habilitation pour acc√©der √† cette API. Pour √©largir votre p√©rim√®tre des API accessibles, consulter cette [rubrique de la FAQ](https://entreprise.api.gouv.fr/faq#comment-elargir-le-perimetre-des-api-disponibles-avec-mon-jeton-obtenir-de-nouvelles-donnees).

                  {:.fr-table}
                  | API V.2  | API V.3+ correspondante |
                  | :--- | :--- |
                  | **API [Divers documents d'une association - Minist√®re de l'Int√©rieur](https://v2.entreprise.api.gouv.fr/catalogue/#a-documents_associations){:target="_blank"}** | API **Donn√©es association en open data - DJEPVA** <br> `v4/djepva/api-association/associations/open_data/{siren_or_rna}`<br> [üìñ Fiche m√©tier](<%= endpoint_path(uid: 'djepva/associations_open_data') %>){:target="_blank"} <br> [üìü Swagger](<%= developers_openapi_path(anchor: 'tag/Informations-generales/paths/~1v4~1djepva~1api-association~1associations~1open_data~1{siren_or_rna}/get') %>){:target="_blank"}<br><br>**üéÅ Plus de donn√©es disponibles** avec la nouvelle [API Donn√©es associations - DJEPVA](<%= endpoint_path(uid: 'djepva/associations') %>){:target="_blank"}. |

              - title: V.2 - Actes - INPI <a name="v2/actes"></a>
                anchor: 'v2---actes---inpi-'
                content: |+
                  {:.fr-table}
                  | API V.2  | API V.3+ correspondante |
                  | :--- | :--- |
                  | **API [Actes - INPI](https://v2.entreprise.api.gouv.fr/catalogue/#a-actes_inpi){:target="_blank"}** | API **Actes** <br> `../inpi/unites_legales/{siren}/actes`<br> [üìñ Fiche m√©tier](<%= endpoint_path(uid: 'inpi/actes') %>){:target="_blank"} <br> [üìü Swagger](<%= developers_openapi_path(anchor: 'tag/Informations-generales/paths/~1v3~1inpi~1unites_legales~1{siren}~1actes/get') %>){:target="_blank"} |

              - title: V.2 - Conventions collectives - Fabrique num√©rique des Minist√®res sociaux <a name="v2/conventions-collectives"></a>
                anchor: 'v2---conventions-collectives---fabrique-num√©rique-des-minist√®res-sociaux-'
                content: |+
                  {:.fr-table}
                  | API V.2  | API V.3+ correspondante |
                  | :--- | :--- |
                  | **API [Conventions collectives - Fabrique num√©rique des Minist√®res sociaux](https://v2.entreprise.api.gouv.fr/catalogue/#a-conventions_collectives){:target="_blank"}** | API **Conventions collectives** <br> `../fabrique_numerique_ministeres_sociaux/etablissements/{siret}/conventions_collectives`<br> [üìñ Fiche m√©tier](<%= endpoint_path(uid: 'fabrique_numerique_ministeres_sociaux/conventions_collectives') %>){:target="_blank"} <br> [üìü Swagger](<%= developers_openapi_path(anchor: 'tag/Informations-generales/paths/~1v3~1fabrique_numerique_ministeres_sociaux~1etablissements~1{siret}~1conventions_collectives/get') %>){:target="_blank"} |


              - title: V.2 - Donn√©es de r√©f√©rence d'une entreprise artisanale - CMA France <a name="v2/entreprises-artisanales"></a>
                anchor: 'v2---donn√©es-de-r√©f√©rence-dune-entreprise-artisanale---cma-france-'
                content: |+
                  {:.fr-table}
                  | API V.2  | API V.3+ correspondante |
                  | :--- | :--- |
                  | **API [Donn√©es de r√©f√©rence d'une entreprise artisanale - CMA France](https://v2.entreprise.api.gouv.fr/catalogue/#a-entreprises_artisanales_cma){:target="_blank"}** | API **Donn√©es du RNM d'une entreprise artisanale** <br> `../cma_france/rnm/unites_legales/{siren}`<br> [üìñ Fiche m√©tier](<%= endpoint_path(uid: 'cma_france/rnm') %>){:target="_blank"} <br> [üìü Swagger](<%= developers_openapi_path(anchor: 'tag/Informations-generales/paths/~1v3~1cma_france~1rnm~1unites_legales~1{siren}/get') %>){:target="_blank"} |


              - title: V.2 - Effectifs d'une entreprise - URSSAF <a name="v2/effectifs"></a>
                anchor: 'v2---effectifs-dune-entreprise---urssaf-'
                content: |+
                  {:.fr-table}
                  | API V.2  | API V.3+ correspondante |
                  | :--- | :--- |
                  | **API [Effectifs d'une entreprise - URSSAF](https://v2.entreprise.api.gouv.fr/catalogue/#a-effectifs_..._acoss_covid){:target="_blank"}** |  API **Effectifs** <br> [üìñ Fiche m√©tier](<%= endpoint_path(uid: 'urssaf/effectifs') %>){:target="_blank"} <br> ‚öôÔ∏è Swagger prochainement disponible  |


              - title: V.2 - Immatriculations EORI -  Douanes <a name="v2/eori"></a>
                anchor: 'v2---immatriculations-eori----douanes-'
                content: |+
                  {:.fr-table}
                  | API V.2  | API V.3+ correspondante |
                  | :--- | :--- |
                  | **API [Immatriculations EORI -  Douanes](https://v2.entreprise.api.gouv.fr/catalogue/#a-eori_douanes){:target="_blank"}** | API **Immatriculations EORI** <br> `../douanes/etablissements/{siret_or_eori}/immatriculations_eori`<br> [üìñ Fiche m√©tier](<%= endpoint_path(uid: 'douanes/immatriculation_eori') %>){:target="_blank"} <br> [üìü Swagger](<%= developers_openapi_path(anchor: 'tag/Informations-generales/paths/~1v3~1douanes~1etablissements~1{siret_or_eori}~1immatriculations_eori/get') %>){:target="_blank"} |


              - title: V.2 - Chiffre d'affaires - DGFIP <a name="v2/exercices"></a>
                anchor: 'v2---chiffre-daffaires---dgfip-'
                content: |+
                  {:.fr-table}
                  | API V.2  | API V.3+ correspondante |
                  | :--- | :--- |
                  | **API [Chiffre d'affaires - DGFIP](https://v2.entreprise.api.gouv.fr/catalogue/#a-exercices){:target="_blank"}** | API **Chiffre d'affaires** <br> `../dgfip/etablissements/{siret}/chiffres_affaires`<br> [üìñ Fiche m√©tier](<%= endpoint_path(uid: 'dgfip/chiffres_affaires') %>){:target="_blank"} <br> [üìü Swagger](<%= developers_openapi_path(anchor: 'tag/Informations-financieres/paths/~1v3~1dgfip~1etablissements~1{siret}~1chiffres_affaires/get') %>){:target="_blank"} |


              - title: V.2 - Bilans annuels - INPI <a name="v2/bilans-inpi"></a>
                anchor: 'v2---bilans-annuels---inpi-'
                content: |+
                  {:.fr-table}
                  | API V.2  | API V.3+ correspondante |
                  | :--- | :--- |
                  | **API [Bilans annuels - INPI](https://v2.entreprise.api.gouv.fr/catalogue/#a-bilans_inpi){:target="_blank"}** | API **Comptes annuels du RNCS** <br> <br> [üìñ Fiche m√©tier](<%= endpoint_path(uid: 'inpi/comptes_annuels_rncs') %>){:target="_blank"} <br> ‚öôÔ∏è Swagger prochainement disponible |


              - title: V.2 - 3 derniers bilans annuels - Banque de France <a name="v2/bilans-bdf"></a>
                anchor: 'v2---3-derniers-bilans-annuels---banque-de-france-'
                content: |+
                  {:.fr-table}
                  | API V.2  | API V.3+ correspondante |
                  | :--- | :--- |
                  | **API [3 derniers bilans annuels - Banque de France](https://v2.entreprise.api.gouv.fr/catalogue/#a-bilans_entreprises_bdf){:target="_blank"}** |  API **Trois derniers bilans annuels** <br> <br> [üìñ Fiche m√©tier](<%= endpoint_path(uid: 'banque_de_france/bilans') %>){:target="_blank"} <br> ‚öôÔ∏è Swagger prochainement disponible  |


              - title: V.2 - D√©clarations de r√©sultats - DGFIP <a name="v2/liasses-fiscales"></a>
                anchor: 'v2---d√©clarations-de-r√©sultats---dgfip-'
                content: |+
                  {:.fr-table}
                  | API V.2  | API V.3+ correspondante |
                  | :--- | :--- |
                  | **API [D√©clarations de r√©sulats - DGFIP](https://v2.entreprise.api.gouv.fr/catalogue/#a-liasses_fiscales_dgfip){:target="_blank"}** | API **Liasses fiscales** <br> `../dgfip/unites_legales/{siren}/liasses_fiscales/{year}`<br> [üìñ Fiche m√©tier](<%= endpoint_path(uid: 'dgfip/liasses_fiscales') %>){:target="_blank"} <br> [üìü Swagger](<%= developers_openapi_path(anchor: 'tag/Informations-financieres/paths/~1v3~1dgfip~1unites_legales~1{siren}~1liasses_fiscales~1{year}/get') %>){:target="_blank"} |


              - title: V.2 - Attestation fiscale - DGFIP <a name="v2/attestation-fiscale"></a>
                anchor: 'v2---attestation-fiscale---dgfip-'
                content: |+
                  {:.fr-table}
                  | API V.2  | API V.3+ correspondante |
                  | :--- | :--- |
                  | **API [Attestation fiscale - DGFIP](https://v2.entreprise.api.gouv.fr/catalogue/#a-attestations_fiscales_dgfip){:target="_blank"}** | API **Attestation fiscale - DGFIP** <br> `../dgfip/unites_legales/{siren}/attestation_fiscale`<br> [üìñ Fiche m√©tier](<%= endpoint_path(uid: 'dgfip/attestations_fiscales') %>){:target="_blank"} <br> [üìü Swagger](<%= developers_openapi_path(anchor: 'tag/Attestations-sociales-et-fiscales/paths/~1v3~1dgfip~1unites_legales~1{siren}~1attestation_fiscale/get') %>){:target="_blank"} |

              - title: V.2 - Attestation de vigilance - ACOSS <a name="v2/attestation-vigilance"></a>
                anchor: '#v2---attestation-de-vigilance---acoss-'
                content: |+
                  {:.fr-table}
                  | API V.2  | API V.3+ correspondante |
                  | :--- | :--- |
                  | **API [Attestation de vigilance - ACOSS](https://v2.entreprise.api.gouv.fr/catalogue/#a-attestations_sociales_acoss){:target="_blank"}** | API **Attestation de vigilance - URSSAF Caisse nationale** <br> `../urssaf/unites_legales/{siren}/attestation_vigilance`<br> [üìñ Fiche m√©tier](<%= endpoint_path(uid: 'urssaf/attestation_vigilance') %>){:target="_blank"} <br> [üìü Swagger](<%= developers_openapi_path(anchor: 'tag/Attestations-sociales-et-fiscales/paths/~1v4~1urssaf~1unites_legales~1{siren}~1attestation_vigilance/get') %>){:target="_blank"} |

              - title: V.2 - Conformit√© emploi des travailleurs handicap√©s - Agefiph <a name="v2/conformite-emploi-handicapes"></a>
                anchor: 'v2---conformit√©-emploi-des-travailleurs-handicap√©s---agefiph-'
                content: |+
                  {:.fr-table}
                  | API V.2  | API V.3+ correspondante |
                  | :--- | :--- |
                  | **API [Conformit√© emploi des travailleurs handicap√©s - Agefiph](https://v2.entreprise.api.gouv.fr/catalogue/#a-attestations_agefiph){:target="_blank"}** | ‚ùå Ressource supprim√©e en V3 - *Depuis 2021, la contribution annuelle de l‚ÄôOETH (Obligation d‚ÄôEmploi de Travailleur Handicap√©) rel√®ve de l'URSSAF et non plus de l'Agefiph*. <br> <br> La conformit√© √† l'OETH est donc d√©sormais incluse dans l'[API attestation de vigileance - URSSAF](<%= endpoint_path(uid: 'urssaf/attestation_vigilance') %>){:target="_blank"} ou dans l'[API conformit√© cotisations de s√©curit√© sociale agricole - MSA](<%= endpoint_path(uid: 'msa/conformites_cotisations') %>){:target="_blank"} pour les entreprises relevant du r√©gime agricole. |

              - title: V.2 - Cotisations de s√©curit√© agricole - MSA <a name="v2/cotis-secu-agricole"></a>
                anchor: 'v2---cotisations-de-s√©curit√©-agricole---msa-'
                content: |+
                  {:.fr-table}
                  | API V.2  | API V.3+ correspondante |
                  | :--- | :--- |
                  | **API [Cotisations de s√©curit√© agricole - MSA](https://v2.entreprise.api.gouv.fr/catalogue/#a-cotisations_msa){:target="_blank"}** | API **Conformit√© cotisations de s√©curit√© sociale agricole** <br> `../msa/etablissements/{siret}/conformite_cotisations`<br> [üìñ Fiche m√©tier](<%= endpoint_path(uid: 'msa/conformites_cotisations') %>){:target="_blank"} <br> [üìü Swagger](<%= developers_openapi_path(anchor: 'tag/Attestations-sociales-et-fiscales/paths/~1v3~1msa~1etablissements~1{siret}~1conformite_cotisations/get') %>){:target="_blank"} |

              - title: V.2 - Cotisations retraite b√¢timent - PROBTP <a name="v2/cotis-retraite-batiment"></a>
                anchor: 'v2---cotisations-retraite-b√¢timent---probtp-'
                content: |+
                  {:.fr-table}
                  | API V.2  | API V.3+ correspondante |
                  | :--- | :--- |
                  | **API [Cotisations retraite b√¢timent - PROBTP](https://v2.entreprise.api.gouv.fr/catalogue/#a-cotisation_retraite_probtp){:target="_blank"}** | API **Conformit√© cotisations retraite b√¢timent** <br> <br> [üìñ Fiche m√©tier](<%= endpoint_path(uid: 'probtp/conformites_cotisations_retraite') %>){:target="_blank"} <br> ‚öôÔ∏è Swagger prochainement disponible  <br> <br> üöÄ En V.3, plus besoin de faire deux appels diff√©rents. **Avec un seul appel, vous obtenez l'√©tat de conformit√© et l'URL de t√©l√©chargement** de l'attestation si elle est disponible. |

              - title: V.2 - Carte professionnelle travaux publics - FNTP <a name="v2/carte-pro-travaux-publics"></a>
                anchor: 'v2---carte-professionnelle-travaux-publics---fntp-'
                content: |+
                  {:.fr-table}
                  | API V.2  | API V.3+ correspondante |
                  | :--- | :--- |
                  | **API [Carte professionnelle travaux publics - FNTP](https://v2.entreprise.api.gouv.fr/catalogue/#a-cartes_professionnelles_fntp){:target="_blank"}** | API **Carte professionnelle travaux publics** <br> `../fntp/unites_legales/{siren}/carte_professionnelle_travaux_publics`<br> [üìñ Fiche m√©tier](<%= endpoint_path(uid: 'fntp/carte_professionnelle_travaux_public') %>){:target="_blank"} <br> [üìü Swagger](<%= developers_openapi_path(anchor: 'tag/Attestations-sociales-et-fiscales/paths/~1v3~1fntp~1unites_legales~1{siren}~1carte_professionnelle_travaux_publics/get') %>){:target="_blank"} |


              - title: V.2 - Cotisations cong√©s pay√©s & ch√¥mage intemp√©ries - CNETP <a name="v2/cotis-conges-payes-chomage-intemperies"></a>
                anchor: 'v2---cotisations-cong√©s-pay√©s--ch√¥mage-intemp√©ries---cnetp-'
                content: |+
                  {:.fr-table}
                  | API V.2  | API V.3+ correspondante |
                  | :--- | :--- |
                  | **API [Cotisations cong√©s pay√©s & ch√¥mage intemp√©ries - CNETP](https://v2.entreprise.api.gouv.fr/catalogue/#a-certificats_cnetp){:target="_blank"}** | API **Attestation de cotisations cong√©s pay√©s & ch√¥mage-intemp√©ries** <br> `../cnetp/unites_legales/{siren}/attestation_cotisations_conges_payes_chomage_intemperies`<br> [üìñ Fiche m√©tier](<%= endpoint_path(uid: 'cnetp/attestations_cotisations_conges_payes_chomage_intemperies') %>){:target="_blank"} <br> [üìü Swagger](<%= developers_openapi_path(anchor: 'tag/Attestations-sociales-et-fiscales/paths/~1v3~1cnetp~1unites_legales~1{siren}~1attestation_cotisations_conges_payes_chomage_intemperies/get') %>){:target="_blank"}|

              - title: V.2 - Certification en BIO - Agence BIO <a name="v2/certif-bio"></a>
                anchor: 'v2---cotisations-cong√©s-pay√©s--ch√¥mage-intemp√©ries---cnetp-'
                content: |+
                  {:.fr-table}
                  | API V.2  | API V.3+ correspondante |
                  | :--- | :--- |
                  | **API [Certification en BIO - Agence BIO](https://v2.entreprise.api.gouv.fr/catalogue/#a-certificats_agence_bio){:target="_blank"}** |  API **Certifications en BIO** <br> <br> [üìñ Fiche m√©tier](<%= endpoint_path(uid: 'agence_bio/certifications_bio') %>){:target="_blank"} <br> ‚öôÔ∏è Swagger prochainement disponible  |


              - title: V.2 - Certification RGE - ADEME <a name="v2/rge-ademe"></a>
                anchor: 'v2---certification-rge---ademe-'
                content: |+
                  {:.fr-table}
                  | API V.2  | API V.3+ correspondante |
                  | :--- | :--- |
                  | **API [Certification RGE - ADEME](https://v2.entreprise.api.gouv.fr/catalogue/#a-certificats_rge_ademe){:target="_blank"}** | API **Certificat RGE** <br> `../ademe/etablissements/{siret}/certification_rge`<br> [üìñ Fiche m√©tier](<%= endpoint_path(uid: 'ademe/certifications_rge') %>){:target="_blank"} <br> [üìü Swagger](<%= developers_openapi_path(anchor: 'tag/Certifications-professionnelles/paths/~1v3~1ademe~1etablissements~1{siret}~1certification_rge/get') %>){:target="_blank"} |

              - title: V.2 - Certification de qualification du b√¢timent - Qualibat <a name="v2/qualibat"></a>
                anchor: 'v2---certification-de-qualification-du-b√¢timent---qualibat-'
                content: |+
                  {:.fr-table}
                  | API V.2  | API V.3+ correspondante |
                  | :--- | :--- |
                  | **API [Certification de qualification du b√¢timent - Qualibat](https://v2.entreprise.api.gouv.fr/catalogue/#a-certificats_qualibat){:target="_blank"}** | API **Certification Qualibat** <br> `../qualibat/etablissements/{siret}/certification_batiment`<br> [üìñ Fiche m√©tier](<%= endpoint_path(uid: 'qualibat/certifications_batiment') %>){:target="_blank"} <br> [üìü Swagger](<%= developers_openapi_path(anchor: 'tag/Certifications-professionnelles/paths/~1v3~1qualibat~1etablissements~1{siret}~1certification_batiment/get') %>){:target="_blank"} |

              - title: V.2 - Certification de qualification d'ing√©nierie - OPQIBI <a name="v2/certif-opqibi"></a>
                anchor: 'v2---certification-de-qualification-ding√©nierie---opqibi-'
                content: |+
                  {:.fr-table}
                  | API V.2  | API V.3+ correspondante |
                  | :--- | :--- |
                  | **API [Certification de qualification d'ing√©nierie - OPQIBI](https://v2.entreprise.api.gouv.fr/catalogue/#a-certificats_opqibi){:target="_blank"}** |  API **Certification d'ing√©nierie OPQIBI** <br> <br> [üìñ Fiche m√©tier](<%= endpoint_path(uid: 'opqibi/qualifications_ingenierie') %>){:target="_blank"} <br> ‚öôÔ∏è Swagger prochainement disponible  |

              - title: V.2 - Brevets, mod√®les et marques d√©pos√©s - INPI <a name="v2/brevet-modeles-marques"></a>
                anchor: 'v2---brevets-mod√®les-et-marques-d√©pos√©s---inpi-'
                content: |+
                  {:.fr-table}
                  | API V.2  | API V.3+ correspondantes |
                  | :--- | :--- |
                  | **API [Brevets, mod√®les et marques d√©pos√©s - INPI](https://v2.entreprise.api.gouv.fr/catalogue/#a-extraits_courts_inpi){:target="_blank"}** | |
                  | Donn√©es des brevets | API **Brevets d√©pos√©s** <br> `../inpi/unites_legales/{siren}/brevets`<br> [üìñ Fiche m√©tier](<%= endpoint_path(uid: 'inpi/brevets') %>){:target="_blank"} <br> [üìü Swagger](<%= developers_openapi_path(anchor: 'tag/Propriete-intellectuelle/paths/~1v3~1inpi~1unites_legales~1{siren}~1brevets/get') %>){:target="_blank"} |
                  | Donn√©es des dessins & mod√®les | API **Mod√®les d√©pos√©s** <br> `../inpi/unites_legales/{siren}/modeles`<br> [üìñ Fiche m√©tier](<%= endpoint_path(uid: 'inpi/modeles') %>){:target="_blank"} <br> [üìü Swagger](<%= developers_openapi_path(anchor: 'tag/Propriete-intellectuelle/paths/~1v3~1inpi~1unites_legales~1{siren}~1modeles/get') %>){:target="_blank"} |
                  | Donn√©es des marques | API **Marques d√©pos√©es** <br> `../inpi/unites_legales/{siren}/marques`<br> [üìñ Fiche m√©tier](<%= endpoint_path(uid: 'inpi/marques') %>){:target="_blank"} <br> [üìü Swagger](<%= developers_openapi_path(anchor: 'tag/Propriete-intellectuelle/paths/~1v3~1inpi~1unites_legales~1{siren}~1marques/get') %>){:target="_blank"} |

      developers:
        title: Espace d√©veloppeurs&nbsp;üõ†
        sections:
          - anchor: 'prerequis-techniques'
            title: Pr√©requis techniques
            content: |+
              Voici la liste des **fondamentaux techniques √† mettre en place pour le bon fonctionnement de l‚ÄôAPI&nbsp;Entreprise**&nbsp;:

              - ‚òëÔ∏è √ätre en mesure de g√©rer le protocole HTTPS ;
              - ‚òëÔ∏è Avoir une version de langage r√©cente. Si vous utilisez Java, une version >= 1.8 est n√©cessaire (pour la gestion des certificats de +1024 bit, du TLS 1.2 minimum et des suites cryptographiques - ciphers) ;
              - ‚òëÔ∏è S‚Äôassurer que nos Autorit√©s de Certification (AC) pour les certificats SSL sont autoris√©es par vos syst√®mes ;
              - ‚òëÔ∏è L'API&nbsp;Entreprise est uniquement accessible par internet. Si vous avez un pare-feu, il faut donc pr√©voir de whitelister l'adresse IP du service API Entreprise ;
              - ‚òëÔ∏è Il est interdit d'interroger l'API&nbsp;Entreprise depuis un site web en front-end, car le jeton d'acc√®s serait alors divulgu√©. Il vous faut donc interroger nos API depuis une application en back-end. Nous n'autoriserons pas le CORS (CORS - Cross Origin Ressource Sharing) ;
              - ‚òëÔ∏è Pr√©voir non seulement les co√ªts de d√©veloppement mais √©galement les co√ªts de maintenance ;
              - ‚òëÔ∏è √ätre en capacit√© de g√©rer les mises √† jour de l'API&nbsp;Entreprise.

              <br>
              üí° Pour mieux comprendre l'API&nbsp;Entreprise avant de demander un acc√®s, **vous pouvez utiliser [notre environnement de test](<%= developers_path(anchor: 'tester-api-preproduction') %>)**.

          - anchor: 'specifications-generales'
            title: Sp√©cifications g√©n√©rales&nbsp;üéõ
            subsections:
              - title: Respecter la volum√©trie
                anchor: 'respecter-la-volum√©trie'
                content: |+
                  #### Les plafonds

                  Les limites de volum√©trie sur API&nbsp;Entreprise se d√©composent en deux r√®gles principales&nbsp;:&nbsp;

                  - **Un plafond g√©n√©ral par IP de 1000 requ√™tes/minute**.

                  - **Une volum√©trie par jeton par groupe d‚Äôendpoints&nbsp;:**
                        - **1er groupe**&nbsp;:&nbsp;Les endpoints renvoyant du JSON constituent un premier groupe. Vous pouvez effectuer jusqu‚Äô√† 250 requ√™tes/min/jeton sur ce groupe.
                        - **2√®me groupe**&nbsp;:&nbsp;Les endpoints transmettant des documents constituent un autre groupe. La volum√©trie maximale d‚Äôappel concernant ce groupe est de 50 requ√™tes/min/jeton.
                        - **Exceptions**&nbsp;:&nbsp;Certains endpoints √©chappent √† cette r√®gle et pr√©sentent une volum√©trie sp√©cifique par endpoint&nbsp;:&nbsp;
                                - L‚Äô[attestation fiscale de la DGFIP](<%= developers_openapi_path(anchor: 'tag/Attestations-sociales-et-fiscales/paths/~1v3~1dgfip~1unites_legales~1{siren}~1attestation_fiscale/get') %>)&nbsp;:&nbsp;5 requ√™tes/min/jeton ;
                                - Les [actes de l‚ÄôINPI](<%= developers_openapi_path(anchor: 'tag/Informations-generales/paths/~1v3~1inpi~1unites_legales~1{siren}~1actes/get') %>)&nbsp;:&nbsp;5 requ√™tes/min/jeton ;
                                - Les [comptes annuels du RNCS de l‚ÄôINPI](<%= endpoint_path(uid: 'inpi/comptes_annuels_rncs') %>)&nbsp;:&nbsp;5 requ√™tes/min/jeton ;
                                - Les [effectifs de l‚ÄôURSSAF](<%= endpoint_path(uid: 'urssaf/effectifs') %>)&nbsp;:&nbsp;250 requ√™tes/min/jeton ;

                  #### Informations volum√©trie dans le header

                  ##### Pour toutes les r√©ponses&nbsp;:

                  Dans toutes les r√©ponses de nos API, le header vous transmet des informations sur la volum√©trie&nbsp;:

                  {:.fr-table}
                  | Champs du header    |   Signification    |     Format           |
                  |:------------------------------|:------------------|:------------:|
                  | `RateLimit-Limit` |La **limite** concernant l'endpoint appel√©, soit le nombre de requ√™te/minute. | Nombre|
                  | `RateLimit-Remaining` |Le **nombre d'appels restants** durant la p√©riode courante d'une minute. | Nombre |
                  | `RateLimit-Reset` |La **fin de la p√©riode** courante. | Timestamp |

                  {:.fr-highlight.fr-highlight--example}
                  >**Exemple&nbsp;:**
                  >Consid√©rons un endpoint ayant une limite de 50 appels /minute.
                  >Vous fa√Ætes un premier appel √† 10h00 pile, et effectuez un second appel 20 secondes plus tard, puis un troisi√®me 10 secondes plus tard, vous aurez les valeurs suivantes :
                  > - `RateLimit-Limit` : 50 ;
                  > - `RateLimit-Remaining` : 47 (50 moins les 3 appels effectu√©s) ;
                  > - `RateLimit-Reset` : [*Timestamp correspondant au jour pr√©sent √† 10h01*]. Le premier appel initialise le compteur (√† 10h00 pile), la p√©riode se termine 1min plus tard.
                  >
                  > Vous pouvez donc jusqu'√† 10h01 pile effectuer 47 appels, le compteur sera r√©initialis√© √† 50 √† ce moment-l√†.

                  ##### En cas de d√©passement :

                  Si vous d√©passez le nombre d'appels autoris√©s (`RateLimit-Remaining = 0`), le serveur r√©pondra avec le `status 429` sur tous les appels suivants dans la m√™me p√©riode.

                  Le header associ√© √† ce code erreur `429` sera accompagn√©&nbsp;:&nbsp;
                  - des trois champs pr√©c√©dents ;
                  - d'un champ suppl√©mentaire indiquant le temps √† attendre avant de pouvoir effectuer des nouveaux appels.

                  {:.fr-table}
                  | Champs du header    |   Signification    |     Format           |
                  |:------------------------------|:------------------|:------------:|
                  | `RateLimit-Limit` |La **limite** concernant l'endpoint appel√©, soit le nombre de requ√™te/minute. | Nombre|
                  | `RateLimit-Remaining` |Le **nombre d'appels restants** durant la p√©riode courante d'une minute. | Nombre |
                  | `RateLimit-Reset` |La **fin de la p√©riode** courante. | Timestamp |
                  | *Uniquement pour le header associ√© au code erreur 429* <br> `Retry-after`| **D√©compte du nombre de secondes restantes** avant la prochaine p√©riode | Secondes |

                  Vous pouvez donc **utiliser les champs du header pour optimiser votre consommation de l'API&nbsp;Entreprise**.

                  #### R√®gles de bannissement en cas de surconsommation

                  En cas de non prise en compte des codes erreurs `429` ou en cas de d√©passement de la limite de volum√©trie globale, **votre IP sera temporairement bannie de nos serveurs pour une dur√©e fixe et non r√©vocable de 12h**. Si vous avez plusieurs jetons, tous seront donc bloqu√©s pendant ce laps de temps.

                  Les appels depuis une IP bannie ne renvoient pas de codes HTTP, le serveur ne r√©pond tout simplement pas.
                  Vous pouvez en revanche v√©rifier si vous avez d√©pass√© ce seuil depuis votre [compte utilisateur](<%= user_tokens_path %>){:target="_blank"}.

                  {:.fr-highlight}
                  > ‚ÑπÔ∏è Au bout de ces 12 heures, vos acc√®s sont automatiquement r√©tablis ; **il est donc inutile d'√©crire au support**.

                  Nous vous invitons √† prendre les mesures n√©cessaires car le d√©passement intervient g√©n√©ralement chez nos utilisateurs lorsque leur programme n'a pas √©t√© correctement configur√©.

                  Pour les appels de traitement de masse, il est souhaitable que vous fassiez vos **batchs automatiques la nuit ou durant les heures creuses** afin de ne pas affecter la qualit√© du service pour le reste des usagers.

              - title: Configurer vos timeout
                anchor: 'configurer-vos-timeout'
                content: |+
                  Le timeout est le temps d'attente maximal de r√©ponse √† une requ√™te. Il vous permet de ne pas immobiliser votre logiciel en le laissant bloqu√© sur un appel sans r√©ponse.

                  De fa√ßon g√©n√©rale, nous vous recommandons un timeout&nbsp;:&nbsp;
                  - de **5 secondes** pour les appels de donn√©es structur√©es JSON ;
                  - de **12 secondes** pour les appels retournant un PDF ou un ZIP.

                  De m√™me, pour ne pas immobiliser nos serveurs, nous attendons les r√©ponses de nos fournisseurs un maximum de 10 secondes avant de vous les retransmettre. Si ce d√©lai d‚Äôattente est d√©pass√© un code erreur HTTP `504` vous sera renvoy√©.

              - title: Autoriser nos Autorit√©s de Certifications
                anchor: 'autoriser-nos-autorit√©s-de-certifications'
                content: |+
                  API&nbsp;Entreprise utilise [DHIMYOTIS](https://www.dhimyotis.com/) comme organisme de d√©livrance de ses certificats SSL principaux ainsi que [Let's Encrypt](https://letsencrypt.org/) pour certains services secondaires.

                  Il est conseill√© d'ajouter ces Autorit√©s de Certifications (AC) √† votre base de confiance si vous en avez une. Une solution id√©ale est d'utiliser un paquet d'autorit√©s mises √† jour automatiquement ([Mozilla par exemple](https://wiki.mozilla.org/CA/Included_Certificates))

                  API&nbsp;Entreprise utilise des certificats multi-domaines ; c'est-√†-dire avec un "nom courant" (_common name - CN_) et plusieurs "noms alternatifs du sujet" (_subject alternatives names - SAN_), **soyez certains que vos outils fonctionnent correctement avec**.

              - title: G√©rer les erreurs - codes HTTPS
                anchor: 'g√©rer-les-erreurs---codes-https'
                content: |+
                  #### Un code standard HTTPS pour cat√©goriser le statut de l'appel
                  Toutes les r√©ponse de l‚ÄôAPI&nbsp;Entreprise sont envoy√©es avec un code HTTPS. **Ces codes permettent de se renseigner sur le statut de l‚Äôappel**, et sont harmonis√©s pour l'ensemble des API quelque soir le fournisseur de donn√©es.
                  Pour en savoir plus sur les codes HTTPS, cet article de [Wikipedia](https://fr.wikipedia.org/wiki/Liste_des_codes_HTTP){:target="_blank"} constitue une bonne base explicative.

                  ##### En cas de succ√®s, le code HTTP commence par 2 :

                  {:.fr-table}
                  | Code HTTPS                                       |      Signification                 |
                  |--------------------------------------------------|------------------------------------|
                  |`200` | **Tout va bien.**|

                  ##### En cas d‚Äô√©chec, si l‚Äôerreur vient de votre c√¥t√©, le code HTTP commence par 4 :

                  {:.fr-table}
                  | Code HTTP                       |      Signification                     |
                  |---------------------------------|----------------------------------------|
                  |`400` | **Mauvaise requ√™te** ‚Äì La syntaxe de votre requ√™te est erron√©e.|
                  |`401` | **Non autoris√©** ‚Äì Votre token est invalide ou manquant.|
                  |`403` | **Interdit** ‚Äì Le serveur a compris votre requ√™te mais refuse de l‚Äôex√©cuter car votre jeton ne vous donne pas acc√®s √† cette ressource.|
                  |`404` | **Non trouv√©** ‚Äì La ressource (l'entreprise, le certificat, ‚Ä¶) demand√©e n'a pas √©t√© trouv√©e. Cette erreur intervient par exemple lors de l‚Äôentr√©e d‚Äôun num√©ro de SIREN qui n‚Äôexiste pas, ou bien lorsque l‚Äôentreprise qu‚Äôil designe est en dehors du p√©rim√®tre de l‚Äôendpoint.|
                  |`422` | **Entit√© non traitable** ‚Äì Le format de la donn√©e pass√©e en param√®tre n'est pas accept√©. Par exemple, si vous entrez 20 chiffres dans le param√®tre SIREN, votre requ√™te est automatiquement rejet√©e, car un SIREN fait obligatoirement 9 chiffres.|
                  |`451` | **Indisponible pour raisons l√©gales** - ce code est sp√©cifiquement renvoy√© lorsque vous demandez les informations d‚Äôune entreprise ou d‚Äôun √©tablissement non diffusible au travers des endpoints `entreprises` et `etablissements` de l‚ÄôINSEE, sans avoir utilis√© l‚Äôoption d‚Äôappel sp√©cifique. Pour en savoir plus, [consultez la documentation de cet endpoint dans le catalogue de donn√©es](../catalogue/).|


                  ###### En cas d‚Äô√©chec, si l‚Äôerreur provient d‚ÄôAPI&nbsp;Entreprise ou bien des fournisseurs de donn√©es, le code HTTP commence par 5 :

                  {:.fr-table}
                  | Code HTTP                        |      Signification                     |
                  |----------------------------------|----------------------------------------|
                  |`500` | **Erreur interne √† API&nbsp;Entreprise** ‚Äì Une erreur interne du serveur d‚ÄôAPI&nbsp;Entreprise est survenue. [Consultez votre compte utilisateur](<%= user_tokens_path %>){:target="_blank"}, l‚Äôhistorique de l‚Äôincident devrait y √™tre affich√© ; ainsi que les actions √† venir.
                  |`502` | **Erreur interne fournisseur** ‚Äì Une erreur interne du serveur du ou des fournisseurs est survenue. [Consultez votre compte utilisateur](<%= user_tokens_path %>){:target="_blank"}, l‚Äôhistorique de l‚Äôincident devrait y √™tre affich√© ; ainsi que les actions √† venir.
                  |`503` | **Service non disponible** ‚Äì Le service est temporairement indisponible ou en maintenance. Pour conna√Ætre l‚Äôhistorique de disponibilit√© et les incidents type de l‚Äôendpoint, vous pouvez [consulter le catalogue de donn√©es](../catalogue/).
                  |`504` | **Interm√©diaire hors d√©lai** ‚Äì Le(s) producteur(s) de donn√©es ont mis trop de temps √† r√©pondre. Notre temps d‚Äôattente, nous permettant de ne pas immobiliser le serveur sur un appel sans r√©ponse, est fix√© √† 10 secondes et a √©t√© d√©pass√©.|


                  #### Un code suppl√©mentaire pour pr√©ciser l'erreur et enclencher une action

                  Tous les codes erreur HTTPS sont accompagn√©s de **codes plus pr√©cis, sp√©cifiques √† chaque situation d‚Äôerreur**. Une explication en toutes lettres est √©galement donn√©e dans la payload. Enfin, dans certains cas, une m√©tadonn√©e actionnable est disponible.

                  Dans l‚Äôexemple ci-dessous, la cl√© `retry_in` permet justement de relancer un appel apr√®s le nombre de secondes indiqu√©es.

                  >_Exemple de payload d'un code HTTPS 502 :_
                  >```
                  >{
                  >    "errors": [
                  >       {
                  >            "code": "04501",
                  >            "title": "Analyse de la situation du compte en cours",
                  >            "detail": "La situation de l'entreprise requiert une analyse manuelle d'un agent de l'URSSAF. Une >demande d'analyse vient d'√™tre envoy√©e, cela prend au maximum 2 jours.",
                  >            "meta": {
                  >                "provider": "ACOSS",
                  >                "retry_in": 172800
                  >           }
                  >        }
                  >    ]
                  >}
                  >```


                  Retrouvez tous les codes erreurs pour chaque endpoint dans [notre swagger, partie "Response samples"](<%= developers_openapi_path %>){:target="_blank"}.
                  La liste des codes sp√©cifiques √† chaque endpoint y est disponible.


              - title: Renseigner les param√®tres d'appel et de tra√ßabilit√©
                anchor: 'renseigner-les-param√®tres-dappel-et-de-tra√ßabilit√©'
                content: |+
                  API&nbsp;Entreprise vous permet d‚Äôacc√©der √† des donn√©es prot√©g√©es. C‚Äôest pourquoi, dans un **objectif de tra√ßabilit√©**, nous vous demandons de renseigner dans chacune de vos requ√™tes, non seulement un jeton d‚Äôacc√®s, mais aussi **certaines informations qualifiant votre requ√™te**.


                  {:.fr-highlight.fr-highlight--caution}
                  > ‚ö†Ô∏è **Ces param√®tres sont obligatoires**. Les appels ne comportant pas ces param√®tres sont rejet√©s, et un code erreur vous est renvoy√©.


                  Pour chaque endpoint, nous pr√©cisons dans le [swagger, rubrique "Query parameters"](<%= developers_openapi_path %>){:target="_blank"} les param√®tres obligatoires sp√©cifiques, ci-dessous une explication d√©taill√©e des √©l√©ments √† fournir pour chaque param√®tre de tra√ßabilit√© :

                  {:.fr-table}
                  | Param√®tre                                                  |      Information √† renseigner           |
                  |:----------------------------------------------------------:|-----------------------------------------|
                  |`&context=CadreDeLaRequ√™te`|**Le cadre de la requ√™te** <br><br>Par exemple : aides publiques, march√©s publics ou gestion d'un r√©f√©rentiel tiers utilis√© pour tel type d'application*.*
                  |`&recipient=B√©n√©ficaireDeL'Appel`|**Le b√©n√©ficiaire de l'appel** <br><br>Ce param√®tre permet la tra√ßabilit√© de l'appel et doit correspondre au _SIRET de l'organisation publique habilit√©e √† utiliser la donn√©e_. <br><br>Si vous √™tes une collectivit√© ou une administration, ce param√®tre doit donc √™tre votre num√©ro de SIRET. Si vous √™tes un √©diteur, il s'agit du SIRET de l'organisation publique cliente demandant la donn√©e.<br><br>Une v√©rification est effectu√©e par API Entreprise pour refuser tout format qui ne serait pas un num√©ro de SIRET et pour refuser un SIRET qui serait identique √† l'entit√© appel√©e.
                  |`&object= RaisonDeL'AppelOuIdentifiant`|**La raison de l'appel** <br> ou l'identifiant de la proc√©dure. <br><br> L'identifiant peut √™tre interne √† votre organisation ou bien un num√©ro de march√© publique, un nom de proc√©dure ; l'essentiel est que celui-ci vous permette de tracer et de retrouver les informations relatives √† l'appel. En effet, vous devez pouvoir justifier de la raison d'un appel aupr√®s du fournisseur de donn√©es. <br> Description courte (< 50 caract√®res).

              - title: G√©rer les √©volutions de version
                anchor: 'gerer-les-evolutions-de-version'
                content: |+
                  Il est fr√©quent que les API √©voluent et que, par cons√©quent, de nouvelles versions soient publi√©es.
                  La version majeure V.3 de l'API&nbsp;Entreprise permet de cr√©er facilement de nouvelles versions, tout en gardant les pr√©c√©dentes, rendant ainsi accessibles rapidement les √©volutions qu'API Entreprise obtient de ses fournisseurs.

                  {:.fr-h5}
                  #### Toute √©volution implique une mont√©e de version

                  Les mont√©s de version d'une API interviennent pour toute √©volution, c'est-√†-dire :
                  - l'ajout d'un nouveau champ par le fournisseur de la donn√©e ;

                    {:.fr-highlight.fr-highlight--example}
                    > Par exemple : Ajout du champ "√©conomie sociale et solidaire" lors d'une √©volution mineure par l'Insee.

                  - la transformation de la structure de l'API par le fournisseur de la donn√©e ;

                    {:.fr-highlight.fr-highlight--example}
                    > Par exemple : Sortie d'une √©volution majeure chez le fournisseur donn√©e.

                  - l'ajout d'une fonctionnalit√© par API&nbsp;Entreprise

                    {:.fr-highlight.fr-highlight--example}
                    > Par exemple : D√©livrance d'un nouveau champ "Certification valide" pour une API qui ne renvoyait avant que l'URL de t√©l√©chargement de l'attestation.

                  Pour comprendre comment monter en version, [consultez la rubrique suivante](#changer-de-version).

                  {:.fr-h5}
                  #### Les anciennes versions maintenues tant que le fournisseur de la donn√©e le permet

                  Depuis la V.3 de l'API&nbsp;Entreprise, les anciennes versions sont maintenues par le service API Entreprise tant que cela est possible.
                  En pratique, cela signifie que :
                  - tant que le fournisseur continue d'envoyer la strcuture de donn√©es de l'ancienne version, cette ancienne version est maintenue par l'API&nbsp;Entreprise ;
                  - si le fournisseur ne renvoie plus la m√™me structure de donn√©e, API&nbsp;Entreprise supprimera l'ancienne version car la maintenir reviendrait √† renvoyer des champs vides.

              - title: Changer de version
                anchor: 'changer-de-version'
                content: |+
                  Depuis la version 3 de l'API&nbsp;Entreprise, toutes les API peuvent √©voluer ind√©pendamment les unes des autres. Les anciennes versions (√† partir de la V.3) restent donc toujours disponibles si le fournisseur de la donn√©e continue de transmettre les informations.
                  Depuis la version 3, le num√©ro de version est un param√®tre de l‚Äôappel et non plus une valeur fixe pour toutes les API comme en version 1 et 2 (Les versions 1 et 2 sont d√©finitivement d√©pr√©ci√©es, la version 1 √©tant d√©j√† ferm√©e et **la version 2 fermant le 30 juin 2023**).

                  >_Exemple d'utilisation du param√®tre d'appel de version :_
                  > Imaginons un exemple fictif : l'API documents, cette API est disponible en v.3 et une nouvelle version est sortie, la V.4.
                  > Pour appeler la version souhait√©e, il vous faudra directement inscrire le num√©ro de la version dans l'URL : `https://entreprise.api.gouv.fr/v3/...` pour la V.3 ou `https://entreprise.api.gouv.fr/v4/...` pour la V.4.

                  {:.fr-highlight}
                  üì© Une lettre d'information annonce syst√©matiquement les nouvelles √©volutions. Vous pouvez vous abonner [ici](<%= newsletter_path %>).

              - title: Monitorer la disponibilit√© des API
                anchor: 'monitorer-la-disponibilit√©-des-api'
                content: |+
                  Pour vous informer de la disponibilit√© de nos API&nbsp;:
                  - vous pouvez retrouver tous les incidents et op√©rations de maintenance directement depuis notre [page de statut](https://status.entreprise.api.gouv.fr/){:target="_blank"}, cette page est compl√©t√©e manuellement par nos services ;
                  - vous pourrez bient√¥t utiliser nos API de monitoring (‚öôÔ∏è d√©veloppements en cours).


              - title: Retrouver les droits d'un jeton JWT
                anchor: 'retrouver-les-droits-dun-jeton-jwt'
                content: |+
                  Pour conna√Ætre **la liste des APIs auxquelles vous avez le droit** avec votre jeton d'acc√®s, vous pouvez le v√©rifier avec l'API `/privileges`.

                  Si vous g√©rez les tokens pour vos utilisateurs, vous pouvez aussi utiliser cette API pour v√©rifier les droits associ√©s √† leurs tokens.

                  {:.fr-h5}
                  #### La requ√™te HTTP :

                  ```
                  https://entreprise.api.gouv.fr/v2/privileges?token=LeTokenATester
                  ```

                  Le param√®tre d'appel √† renseigner est le token dont vous souhaitez conna√Ætre les droits.

                  > **Exemple de r√©ponse JSON :**
                  >```
                  >{
                  >  "privileges": [
                  >    "attestations_agefiph",
                  >    [...]
                  >    "actes_bilans_inpi"
                  >  ]
                  >}
                  > ```

                  La r√©ponse JSON renvoie la liste des API autoris√©es. Retrouvez-leurs sp√©cifications techniques dans le [Swagger](<%= developers_openapi_path %>){:target="_blank_"}.

          - anchor: 'kit-de-mise-en-production'
            title: Kit de mise en production&nbsp;üöÄ
            subsections:
              - title: Tester l'API en pr√©production
                anchor: 'tester-api-preproduction'
                content: |+
                  L'API&nbsp;Entreprise est **testable avec un jeton accessible √† tous depuis notre environnement de staging**. Ce bac √† sable retourne des donn√©es fictives.

                  Pour utiliser l'environnement de test, plusieurs moyens sont possibles :
                  * **Utilisez l'interface disponible depuis [API.gouv](https://api.gouv.fr/documentation/api-entreprise){:target="_blank"}** :
                      1. Copiez le jeton de test disponible dans les premiers paragraphes de la page.
                      2. S√©lectionnez _"https://staging.entreprise.api.gouv.fr - Environnement de staging"_ dans le menu d√©roulant situ√© un peu plus bas du jeton de test, √† gauche.
                      3. Cliquez sur le bouton √† droite _"Authorize"_, et entrez le jeton de test dans le champ _"Value"_ de la modale qui s'est ouverte ; validez en cliquant sur _"Authorize"_. L'environnement de test est configur√©, fermez la modale.
                      4. Pour terminer, pour chacune des API, un bouton _"Try it out"_ vous permet de pr√©remplir les param√®tres d'appel avec diff√©rents exemples. Appuyez sur _"Execute"_ pour obtenir les diff√©rentes r√©ponses possibles.

                  * **Utilisez un logiciel de type _Postman_ √† partir du fichier OpenAPI :**
                      1. T√©l√©chargez le fichier OpenAPI de l'API&nbsp;Entreprise depuis la [page de swagger](<%= developers_openapi_path %>), avec le bouton "Download" situ√© en d√©but de page.
                      2. Importer ce fichier dans un logiciel de test de type _Postman_.
                      3. Configurez votre environnement avec l'url de l'environnement de staging `https://staging.entreprise.api.gouv.fr` (cette URL est partielle et doit √™tre compl√©t√©e par le nom de l'API d√©sir√©e dans le bouquet).
                      API&nbsp;Entreprise ne recommande pas un logiciel plus qu'un autre, de nombreux tutoriels sont disponibles sur internet.

                  * **Interrogez le staging depuis votre terminal avec une ligne de commande :**
                      1. Rendez-vous sur la [documentation swagger du site API&nbsp;Entreprise](<%= developers_openapi_path %>), copiez le jeton de staging disponible en d√©but de page.
                      2. Dans la partie _"Request samples"_ disponible pour chaque API dans le swagger, recopiez les lignes de commandes propos√©es d√©butant par `curl -X GET` en rempla√ßant `$token` par le jeton de test et en veillant √† ajouter `staging` au d√©but de l'URL : `https://staging.entreprise.api.gouv.fr/v3/...`
                      3. Lancez cette ligne de commande dans votre terminal.

              - title: R√©cup√©rer le jeton JWT&nbsp;üîë
                anchor: 'r√©cup√©rer-le-jeton-jwt'
                content: |+
                  Seule la personne ayant fait la demande d'habilitation a acc√®s au token, au travers du [compte utilisateur API&nbsp;Entreprise](<%= user_tokens_path %>){:target="_blank"}.

                  - _Si vous avez r√©alis√© la demande d'habilitation_, vous pouvez **r√©cup√©rer vos tokens ou jetons d'acc√®s directement depuis votre [compte](<%= user_tokens_path %>){:target="_blank"}**.

                  - _Si vous n'avez pas r√©alis√© la demande d'habilitation mais que vous √™tes la personne en charge d'int√©grer l'API&nbsp;Entreprise_, **la personne ayant effectu√© la demande d'habilitation peut vous transmettre le token de fa√ßon s√©curis√©e depuis son [compte](<%= user_tokens_path %>){:target="_blank"}**, en cliquant sur le bouton _"Transmettre le jeton √† mon √©quipe technique"_. Vous recevrez alors, **par e-mail, un lien d'une dur√©e de 4 heures** vous donnant acc√®s au jeton.

                  {:.fr-highlight.fr-highlight--caution}
                  > ‚ö†Ô∏è L'utilisation de cette fonctionnalit√© du compte utilisateur doit avoir pour unique objectif la transmission s√©curis√©e de la cl√© aux services techniques qui int√©greront l'API&nbsp;Entreprise. **Le jeton JWT ne doit jamais √™tre transmis par e-mail.**

              - title: Faire sa premi√®re requ√™te
                anchor: 'faire-sa-premi√®re-requ√™te'
                content: |+
                  #### Utiliser l'environnement de production - _Swagger_

                  Apr√®s avoir r√©cup√©r√© votre jeton, vous pouvez faire un premier appel de test.

                  Utilisez l'[environnement de production document√© (_Swagger_)](https://api.gouv.fr/documentation/api-entreprise}{:target="_blank"}), disponible sur api.gouv.fr.
                  Il permet, √† l'aide d'un token d'authentification valide üîë, d'effectuer directement depuis le navigateur des tests de l'API. Les donn√©es confidentielles restent bien prot√©g√©es. Vous y trouverez aussi la sp√©cification technique t√©l√©chargeable sous format YAML afin de pouvoir acc√©l√©rer le d√©veloppement de vos outils d'interfa√ßage avec API&nbsp;Entreprise.

                  {:.fr-highlight.fr-highlight--caution}
                  > ‚ö†Ô∏è Attention, pour rappel, vous ne devez jamais copier-coller un token dans la barre de recherche classique d'un moteur de recherche ou dans un e-mail. Pour r√©cup√©rer votre jeton de fa√ßon s√©curis√©e, consultez cette [rubrique](<%= faq_index_path(anchor: 'comment-transmettre-le-jeton-d-acces-en-tout-securite') %>){:target="_blank"}.


                  #### √âl√©ments constitutifs de la requ√™te HTTP d'API&nbsp;Entreprise

                  Chaque URL de requ√™te est sp√©cifi√©e dans le [Swagger](<%= developers_openapi_path %>){:target="_blank_"},

                  {:.fr-h6}
                  ##### Exemple de requ√™te :

                  ```
                  https://entreprise.api.gouv.fr/v3/attestation_fiscales_dgfip/SirenDeL‚ÄôEntreprise?token=üìù&user_id=üìù&context=üìù&recipient=üìù&object=üìù
                  ```

                  {:.fr-table}
                  | √âl√©ments composant la requ√™te              |   √âtat    | Exemples      |
                  |--------------------------------------------|-----------|---------------|
                  |**Domaine** <br>(ou pr√©fixe) <br>qui conduit √† l'API de fa√ßon s√©curis√©e| pr√©d√©fini par endpoint|`https://entreprise.api.gouv.fr`|
                  |**Num√©ro de la version** <br>(par d√©faut d√©sormais en V3)| pr√©d√©fini par endpoint| `/v3`|
                  |**Nom de la donn√©e recherch√©e** <br>(ou *endpoint*)| pr√©d√©fini par endpoint| `/attestation_fiscale_dgfip`|
                  |**Identit√© de l'√©tablissement concern√©** <br>(souvent SIREN ou SIRET)| √† choisir üìù|`/SIRENouSIRETdeL'Etablissement`|
                  |**Votre jeton d'acc√®s**| √† renseigner üìù|`?token=JetonD'Habilitation`|
                  |**Des param√®tres de tra√ßabilit√©**| √† renseigner üìù| `&context=CadreDeLaRequ√™te`<br> ‚ÑπÔ∏è Plus d'informations disponibles dans la partie [Instruire les param√®tres de tra√ßabilit√©](<%= developers_path(anchor: 'renseigner-les-param√®tres-dappel-et-de-tra√ßabilit√©') %>){:target="_blank"}|

                  #### Constatez votre premi√®re trace d‚Äôappel depuis le compte utilisateur

                  Une fois que vous avez fait un premier appel, celui-ci est **r√©pertori√©** dans votre compte utilisateur, en passant par [la liste de tous vos tokens](https://dashboard.entreprise.api.gouv.fr/me/tokens), et en cliquant sur "Voir les statistiques".

              - title: Configurer le logiciel m√©tier
                anchor: 'configurer-le-logiciel-m√©tier'
                content: |+
                  Documentation en construction&nbsp;üöß

          - anchor: 'incidents-et-maintenances'
            title: Incidents et maintenances&nbsp;üöß
            subsections:
              - title: Que faire en cas de rupture de service ?
                anchor: 'que-faire-en-cas-de-rupture-de-service-'
                content: |+
                  Le service ne r√©pond plus ? consultez [cette rubrique de notre FAQ](<%= faq_index_path(anchor: 'rupture-de-service') %>){:target="_blank"}.

              - title: √ätre inform√© des ruptures de service
                anchor: '√™tre-inform√©-des-ruptures-de-service'
                content: |+
                  Pour √™tre inform√© des diff√©rentes indisponibilit√©s, [abonnez-vous aux notifications par e-mail depuis notre page de statut](https://status.entreprise.api.gouv.fr/subscribe/email){:target="_blank"}.

          - anchor: 'renouvellement-du-jwt'
            title: Renouvellement du JWT&nbsp;üîë
            content: >-
              Pour comprendre comment renouveler votre jeton, consultez [cette rubrique de notre FAQ](<%= faq_index_path(anchor: 'jetons-d-acces') %>){:target="_blank"}.

